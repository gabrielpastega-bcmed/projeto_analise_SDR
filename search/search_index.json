{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Projeto An\u00e1lise SDR","text":"<p>Bem-vindo \u00e0 documenta\u00e7\u00e3o do Sistema de An\u00e1lise de Atendimento SDR.</p>"},{"location":"#o-que-e-este-projeto","title":"\ud83c\udfaf O que \u00e9 este projeto?","text":"<p>Este sistema analisa automaticamente conversas de atendimento (chats) para extrair insights sobre:</p> <ul> <li>\ud83c\udfc6 Performance de Agentes \u2014 Ranking por velocidade e qualidade de atendimento</li> <li>\ud83d\udd25 Produtos Top of Mind \u2014 O que os clientes mais perguntam</li> <li>\ud83d\udcc8 Funil de Vendas \u2014 Taxa de convers\u00e3o e motivos de perda</li> <li>\ud83d\ude0a Satisfa\u00e7\u00e3o do Cliente \u2014 An\u00e1lise de sentimento e humaniza\u00e7\u00e3o</li> </ul>"},{"location":"#dashboard-multi-pagina","title":"\ud83d\udcca Dashboard Multi-P\u00e1gina","text":"<p>O sistema inclui um dashboard interativo com 4 p\u00e1ginas especializadas:</p> P\u00e1gina Descri\u00e7\u00e3o \ud83d\udcca Vis\u00e3o Geral KPIs macro, distribui\u00e7\u00e3o de qualifica\u00e7\u00e3o, volume por origem, heatmap \ud83d\udc65 Agentes Ranking de TME, taxa de qualifica\u00e7\u00e3o, scatter TME vs Volume \ud83d\udcc8 An\u00e1lise Temporal Volume por hora, TME por hora, comparativo hor\u00e1rio comercial \ud83c\udfaf Leads Performance por origem, funil de qualifica\u00e7\u00e3o, distribui\u00e7\u00e3o de tags"},{"location":"#inicio-rapido","title":"\ud83d\ude80 In\u00edcio R\u00e1pido","text":"Instala\u00e7\u00e3oExecutar DashboardExecutar An\u00e1lise CLIDesenvolvimento <pre><code># Clone o reposit\u00f3rio\ngit clone https://github.com/gabrielpastega-bcmed/projeto_analise_SDR.git\ncd projeto_analise_SDR\n\n# Instale as depend\u00eancias\npoetry install\n</code></pre> <pre><code># Dashboard interativo\npoetry run streamlit run dashboard.py\n</code></pre> <p>Acesse em: <code>http://localhost:8501</code></p> <pre><code># Pipeline de an\u00e1lise\npoetry run python main.py\n</code></pre> <pre><code># Testes\npoetry run pytest --cov=src\n\n# Lint\npoetry run ruff check .\n</code></pre>"},{"location":"#navegacao","title":"\ud83d\udcda Navega\u00e7\u00e3o","text":"Se\u00e7\u00e3o Descri\u00e7\u00e3o Guia do Usu\u00e1rio Para quem vai usar o sistema Manual T\u00e9cnico Para desenvolvedores Contribuindo Como colaborar"},{"location":"#metricas-principais","title":"\ud83d\udcca M\u00e9tricas Principais","text":"<p>TME (Tempo M\u00e9dio de Espera)</p> <p>Tempo at\u00e9 a primeira resposta humana (n\u00e3o bot).</p> <p>Meta recomendada: &lt; 2 minutos</p> <p>Taxa de Qualifica\u00e7\u00e3o</p> <p>Porcentagem de leads classificados como qualificados.</p> <p>Convers\u00e3o</p> <p>Leads qualificados que avan\u00e7am para consultor.</p>"},{"location":"#links-uteis","title":"\ud83d\udd17 Links \u00dateis","text":"<ul> <li>GitHub</li> <li>Dashboard (local)</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Todas as mudan\u00e7as not\u00e1veis deste projeto ser\u00e3o documentadas neste arquivo.</p> <p>O formato segue Keep a Changelog, e este projeto adhere ao Versionamento Sem\u00e2ntico.</p>"},{"location":"changelog/#080-2025-12-17","title":"[0.8.0] - 2025-12-17","text":""},{"location":"changelog/#adicionado","title":"Adicionado","text":"<ul> <li>BigQuery Streaming para prevenir OOM em datasets grandes:</li> <li><code>stream_chats_from_bigquery()</code>: Generator com pagina\u00e7\u00e3o autom\u00e1tica (1000 chats/p\u00e1gina)</li> <li>Suporte a generators em <code>BatchAnalyzer.run_batch()</code></li> <li>Chunked writes em <code>save_to_bigquery()</code> (500 linhas/chunk)</li> <li>Testes:</li> <li><code>test_ingestion_streaming.py</code>: Teste de pagina\u00e7\u00e3o</li> <li><code>test_batch_analyzer_streaming.py</code>: 7 testes de streaming (chunked writes, generators, callbacks)</li> <li>Total: 175 testes (+8 novos)</li> <li>Redis Cache para respostas LLM:</li> <li><code>test_llm_cache_extended.py</code>: 24 testes de edge cases</li> <li>Economia de custos em re-processamentos</li> <li>M\u00e9tricas:</li> <li><code>test_metrics.py</code>: 20 testes de tokens/custo</li> </ul>"},{"location":"changelog/#alterado","title":"Alterado","text":"<ul> <li>Coverage: 83% \u2192 75% (base de c\u00f3digo aumentou significativamente)</li> <li>Tests: 123 \u2192 175 (+52 testes)</li> <li><code>BatchAnalyzer.run_batch()</code>: Agora aceita <code>Union[List[Chat], Iterator[Chat]]</code></li> <li><code>BatchAnalyzer.save_to_bigquery()</code>: Novo par\u00e2metro <code>chunk_size</code> (default: 500)</li> </ul>"},{"location":"changelog/#performance","title":"Performance","text":"<ul> <li>~80% redu\u00e7\u00e3o de mem\u00f3ria para datasets grandes (&gt;1000 chats)</li> <li>Chunked writes evitam limite de 10MB do BigQuery</li> <li>Backward compatibility 100% mantida</li> </ul>"},{"location":"changelog/#070-2025-12-17","title":"[0.7.0] - 2025-12-17","text":""},{"location":"changelog/#adicionado_1","title":"Adicionado","text":"<ul> <li>Arquitetura para Integra\u00e7\u00e3o:</li> <li><code>config/settings.py</code>: Configura\u00e7\u00f5es tipadas (Gemini, BigQuery, Catalog)</li> <li><code>src/context_provider.py</code>: Interface abstrata para contexto empresarial</li> <li><code>DefaultContextProvider</code> e <code>CatalogAPIContextProvider</code></li> <li>Testes:</li> <li><code>test_context_provider.py</code>: 10 testes (92% coverage)</li> <li><code>test_ingestion_bq.py</code>: Testes BigQuery com mocks</li> <li><code>test_batch_analyzer_bq.py</code>: Testes ETL BigQuery</li> <li><code>test_dashboard_utils.py</code>: Testes UI (theme, colors)</li> <li>30 novos testes adicionados (93 \u2192 123)</li> <li>Licen\u00e7a: Apache 2.0</li> </ul>"},{"location":"changelog/#alterado_1","title":"Alterado","text":"<ul> <li>Coverage: 64% \u2192 83%</li> <li>CI: Python 3.12/3.13/3.14 support</li> <li>main.py: Agora usa <code>GeminiClient</code> diretamente (removeu depend\u00eancia de <code>LLMAnalyzer</code>)</li> <li>README: Badges atualizados, stats corrigidos (123 tests, 83% coverage)</li> </ul>"},{"location":"changelog/#removido","title":"Removido","text":"<ul> <li><code>src/llm_analysis.py</code> (c\u00f3digo mock redundante)</li> <li><code>tests/test_llm_analysis.py</code></li> <li>Pastas vazias: <code>src/features/</code>, <code>src/visualization/</code>, <code>src/data/</code>, <code>src/models/</code></li> </ul>"},{"location":"changelog/#corrigido","title":"Corrigido","text":"<ul> <li>CI: Env vars para testes BigQuery (skip quando m\u00f3dulo n\u00e3o dispon\u00edvel)</li> <li>Lint: Erros E402 em imports ap\u00f3s <code>importorskip</code></li> <li>Git History: Reescrito para remover dados sens\u00edveis (LGPD)</li> </ul>"},{"location":"changelog/#060-2025-12-15","title":"[0.6.0] - 2025-12-15","text":""},{"location":"changelog/#adicionado_2","title":"Adicionado","text":"<ul> <li>Filtros Globais na sidebar:</li> <li>Per\u00edodo (datas de in\u00edcio e fim)</li> <li>Agentes</li> <li>Origem do Lead</li> <li>Tags de Qualifica\u00e7\u00e3o</li> <li>Checkbox \"Apenas Hor\u00e1rio Comercial\"</li> <li>Fun\u00e7\u00e3o <code>apply_filters()</code> centralizada para aplicar filtros em todas as p\u00e1ginas</li> <li>Destaque de hor\u00e1rio comercial (08h-18h) em gr\u00e1ficos temporais</li> <li>Timestamps vis\u00edveis na transcri\u00e7\u00e3o de chat com diferen\u00e7a de tempo entre mensagens</li> <li>Keys \u00fanicos em todos os 18 <code>plotly_chart</code> para evitar erro de IDs duplicados</li> </ul>"},{"location":"changelog/#alterado_2","title":"Alterado","text":"<ul> <li>Gr\u00e1fico \"Distribui\u00e7\u00e3o de Qualifica\u00e7\u00e3o\" (P1) convertido para barras horizontais</li> <li>Gr\u00e1fico \"TME vs Volume\" (P2) dividido em dois gr\u00e1ficos separados</li> <li>Ordena\u00e7\u00e3o de barras horizontais: maior valor sempre no topo</li> <li><code>get_lead_origin()</code> agora trata <code>null</code>, <code>None</code>, vazio como \"N\u00e3o Informado\"</li> <li>Modelo <code>Organization</code> com campos <code>id</code> e <code>name</code> opcionais para dados incompletos</li> </ul>"},{"location":"changelog/#corrigido_1","title":"Corrigido","text":"<ul> <li>Bug <code>StreamlitDuplicateElementId</code> em gr\u00e1ficos Plotly (solucionado com <code>key=</code>)</li> <li>Gr\u00e1ficos \"Volume por Origem\" e \"Performance por Origem\" n\u00e3o renderizavam</li> <li>Hor\u00e1rio comercial incorreto nos gr\u00e1ficos temporais (era 08-17, corrigido para 08-18)</li> <li>Remo\u00e7\u00e3o de tags HTML do corpo das mensagens na transcri\u00e7\u00e3o</li> </ul>"},{"location":"changelog/#050-2025-12-15","title":"[0.5.0] - 2025-12-15","text":""},{"location":"changelog/#adicionado_3","title":"Adicionado","text":"<ul> <li>Visualiza\u00e7\u00e3o de Chat vs An\u00e1lise lado-a-lado na p\u00e1gina Insights</li> <li>Bot\u00e3o para carregar an\u00e1lises locais sem BigQuery</li> <li>Nome do remetente vis\u00edvel na transcri\u00e7\u00e3o do chat (Bot, Agente, Cliente)</li> <li>Labels com valores num\u00e9ricos vis\u00edveis em todos os gr\u00e1ficos (sem hover)</li> </ul>"},{"location":"changelog/#alterado_3","title":"Alterado","text":"<ul> <li>Modelo Gemini atualizado para <code>gemini-2.5-flash</code> (est\u00e1vel)</li> <li>Gr\u00e1ficos ordenados do maior para menor</li> <li>Pie charts mostram valor + porcentagem</li> <li>Implementadas boas pr\u00e1ticas do Chart Guide</li> </ul>"},{"location":"changelog/#corrigido_2","title":"Corrigido","text":"<ul> <li>Erro <code>is_bot</code> ao carregar chat do BigQuery</li> <li>Compatibilidade com estrutura JSON aninhada (<code>analysis.cx</code>)</li> </ul>"},{"location":"changelog/#040-2025-12-12","title":"[0.4.0] - 2025-12-12","text":""},{"location":"changelog/#adicionado_4","title":"Adicionado","text":"<ul> <li>Persist\u00eancia BigQuery para an\u00e1lises qualitativas do Gemini</li> <li>Script <code>create_analysis_table.py</code> para cria\u00e7\u00e3o da tabela de resultados</li> <li>Script <code>run_weekly_analysis.py</code> para execu\u00e7\u00e3o de an\u00e1lises semanais</li> <li>M\u00e9todos <code>save_to_bigquery()</code>, <code>load_from_bigquery()</code>, <code>get_available_weeks()</code> em <code>BatchAnalyzer</code></li> <li>Seletor de semanas no dashboard de Insights</li> <li>Documenta\u00e7\u00e3o t\u00e9cnica da integra\u00e7\u00e3o Gemini</li> </ul>"},{"location":"changelog/#alterado_4","title":"Alterado","text":"<ul> <li>P\u00e1gina de Insights agora carrega resultados do BigQuery com fallback para JSON local</li> </ul>"},{"location":"changelog/#030-2025-12-10","title":"[0.3.0] - 2025-12-10","text":""},{"location":"changelog/#adicionado_5","title":"Adicionado","text":"<ul> <li>Integra\u00e7\u00e3o Gemini 2.5 Flash para an\u00e1lise qualitativa de conversas</li> <li>P\u00e1gina \ud83e\udde0 Insights no dashboard com an\u00e1lise de sentimento e CX</li> <li><code>BatchAnalyzer</code> para processamento em lote com rate limiting</li> <li>Documenta\u00e7\u00e3o completa no GitHub Pages</li> </ul>"},{"location":"changelog/#alterado_5","title":"Alterado","text":"<ul> <li>Dashboard Multi-P\u00e1gina com 5 p\u00e1ginas especializadas</li> </ul>"},{"location":"changelog/#020-2025-12-05","title":"[0.2.0] - 2025-12-05","text":""},{"location":"changelog/#adicionado_6","title":"Adicionado","text":"<ul> <li>Dashboard Multi-P\u00e1gina com 4 p\u00e1ginas (Vis\u00e3o Geral, Agentes, Temporal, Leads)</li> <li>Filtros globais por agente, origem e per\u00edodo</li> <li>Modo Lightweight para carregamento otimizado</li> <li>Tema adaptativo (claro/escuro)</li> </ul>"},{"location":"changelog/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Anonimiza\u00e7\u00e3o de PII (emails, telefones, CPFs) conforme LGPD</li> </ul>"},{"location":"changelog/#010-2025-12-01","title":"[0.1.0] - 2025-12-01","text":""},{"location":"changelog/#adicionado_7","title":"Adicionado","text":"<ul> <li>Setup inicial do projeto com Poetry</li> <li>Modelos Pydantic para parsing de dados</li> <li>Integra\u00e7\u00e3o BigQuery para ingest\u00e3o de dados</li> <li>An\u00e1lise operacional (TME, TMA, ranking de agentes)</li> <li>CI/CD com GitHub Actions</li> <li>Testes unit\u00e1rios com pytest</li> </ul>"},{"location":"changelog/#001-2025-11-28","title":"[0.0.1] - 2025-11-28","text":""},{"location":"changelog/#adicionado_8","title":"Adicionado","text":"<ul> <li>Estrutura inicial do reposit\u00f3rio</li> <li>README com instru\u00e7\u00f5es b\u00e1sicas</li> <li>Licen\u00e7a Apache 2.0</li> </ul> <p>Nota: Apenas as \u00faltimas 5 vers\u00f5es s\u00e3o exibidas. Para hist\u00f3rico completo, consulte as Releases no GitHub.</p>"},{"location":"contributing/","title":"Contributing to Projeto An\u00e1lise SDR","text":"<p>Obrigado por considerar contribuir para este projeto! \ud83c\udf89</p>"},{"location":"contributing/#configuracao-do-ambiente","title":"\ud83d\ude80 Configura\u00e7\u00e3o do Ambiente","text":"<pre><code># Clone o reposit\u00f3rio\ngit clone https://github.com/gabrielpastega-bcmed/projeto_analise_SDR.git\ncd projeto_analise_SDR\n\n# Instale as depend\u00eancias\npoetry install\n\n# Configure os pre-commit hooks\npoetry run pre-commit install\n</code></pre>"},{"location":"contributing/#padroes-de-codigo","title":"\ud83d\udccb Padr\u00f5es de C\u00f3digo","text":""},{"location":"contributing/#estilo","title":"Estilo","text":"<ul> <li>Usamos Ruff para linting e formata\u00e7\u00e3o</li> <li>Usamos Mypy para type checking</li> <li>Siga o PEP 8</li> </ul>"},{"location":"contributing/#verificacao-local","title":"Verifica\u00e7\u00e3o Local","text":"<pre><code># Lint\npoetry run ruff check .\n\n# Formata\u00e7\u00e3o\npoetry run ruff format .\n\n# Type checking\npoetry run mypy .\n\n# Testes com coverage\npoetry run pytest --cov=src --cov-report=term-missing\n</code></pre>"},{"location":"contributing/#testes","title":"\ud83e\uddea Testes","text":"<ul> <li>Escreva testes para novas funcionalidades</li> <li>Mantenha cobertura m\u00ednima de 70%</li> <li>Testes devem estar em <code>tests/</code></li> </ul> <pre><code># Rodar testes\npoetry run pytest\n\n# Com coverage\npoetry run pytest --cov=src\n</code></pre>"},{"location":"contributing/#commits","title":"\ud83d\udcdd Commits","text":"<p>Usamos Conventional Commits:</p> <pre><code>&lt;tipo&gt;: &lt;descri\u00e7\u00e3o&gt;\n\n[corpo opcional]\n</code></pre>"},{"location":"contributing/#tipos","title":"Tipos","text":"<ul> <li><code>feat</code>: Nova funcionalidade</li> <li><code>fix</code>: Corre\u00e7\u00e3o de bug</li> <li><code>docs</code>: Documenta\u00e7\u00e3o</li> <li><code>style</code>: Formata\u00e7\u00e3o (sem mudan\u00e7a de c\u00f3digo)</li> <li><code>refactor</code>: Refatora\u00e7\u00e3o</li> <li><code>test</code>: Adi\u00e7\u00e3o/corre\u00e7\u00e3o de testes</li> <li><code>chore</code>: Tarefas de manuten\u00e7\u00e3o</li> </ul>"},{"location":"contributing/#exemplos","title":"Exemplos","text":"<pre><code>feat: adiciona an\u00e1lise de sentimento por LLM\nfix: corrige c\u00e1lculo de TME para hor\u00e1rio comercial\ndocs: atualiza README com instru\u00e7\u00f5es do dashboard\n</code></pre>"},{"location":"contributing/#pull-requests","title":"\ud83d\udd04 Pull Requests","text":"<ol> <li> <p>Crie um branch a partir de <code>main</code> <pre><code>git checkout -b feat/minha-feature\n</code></pre></p> </li> <li> <p>Fa\u00e7a suas altera\u00e7\u00f5es com commits sem\u00e2nticos</p> </li> <li> <p>Garanta que todos os checks passem    <pre><code>poetry run pre-commit run --all-files\npoetry run pytest\n</code></pre></p> </li> <li> <p>Abra um Pull Request para <code>main</code></p> </li> <li> <p>Aguarde revis\u00e3o e aprova\u00e7\u00e3o</p> </li> </ol>"},{"location":"contributing/#estrutura-do-projeto","title":"\ud83d\udcc1 Estrutura do Projeto","text":"<pre><code>projeto_analise_SDR/\n\u251c\u2500\u2500 src/                    # C\u00f3digo fonte\n\u2502   \u251c\u2500\u2500 models.py           # Modelos Pydantic\n\u2502   \u251c\u2500\u2500 ingestion.py        # Carregamento de dados\n\u2502   \u251c\u2500\u2500 ops_analysis.py     # An\u00e1lise operacional\n\u2502   \u251c\u2500\u2500 llm_analysis.py     # An\u00e1lise qualitativa\n\u2502   \u2514\u2500\u2500 reporting.py        # Relat\u00f3rios\n\u251c\u2500\u2500 tests/                  # Testes unit\u00e1rios\n\u251c\u2500\u2500 data/raw/               # Dados brutos\n\u251c\u2500\u2500 .github/workflows/      # CI/CD\n\u251c\u2500\u2500 dashboard.py            # Dashboard Streamlit\n\u2514\u2500\u2500 main.py                 # Script principal\n</code></pre>"},{"location":"contributing/#duvidas","title":"\u2753 D\u00favidas","text":"<p>Abra uma Issue para perguntas ou sugest\u00f5es.</p>"},{"location":"project_status/","title":"Project Status &amp; Context","text":"<p>For AI Agents: Read this file first to understand the current project state.</p>"},{"location":"project_status/#current-state-2025-12-17","title":"Current State (2025-12-17)","text":"<ul> <li>Version: 0.8.0</li> <li>Status: Production-ready</li> <li>Test Coverage: 75% (175 tests passing)</li> <li>CI: \u2705 Passing (Python 3.12, 3.13, 3.14)</li> <li>Warnings: 0</li> </ul>"},{"location":"project_status/#key-files","title":"Key Files","text":"File Description <code>src/gemini_client.py</code> Gemini API client with validation <code>src/llm_schemas.py</code> Pydantic schemas for LLM output <code>src/batch_analyzer.py</code> ETL with checkpoint + rate limiting + streaming <code>src/ingestion.py</code> Data loading with BigQuery streaming <code>src/llm_cache.py</code> Redis cache for LLM responses <code>src/metrics.py</code> Token/cost tracking <code>src/context_provider.py</code> Interface for business context <code>src/insights_service.py</code> Business logic for Insights page <code>src/logging_config.py</code> Centralized logging <code>config/settings.py</code> Typed configuration (Gemini, BigQuery, Catalog)"},{"location":"project_status/#completed-optimizations-2025-12-17","title":"Completed Optimizations (2025-12-17)","text":""},{"location":"project_status/#phase-1-cleanup-consolidation","title":"Phase 1: Cleanup &amp; Consolidation \u2705","text":"<ul> <li>Removed <code>src/llm_analysis.py</code> (redundant mock)</li> <li>Migrated <code>main.py</code> to use <code>GeminiClient</code></li> <li>Removed empty directories</li> </ul>"},{"location":"project_status/#phase-2-architecture-for-integration","title":"Phase 2: Architecture for Integration \u2705","text":"<ul> <li>Created <code>config/settings.py</code> (typed dataclasses)</li> <li>Created <code>src/context_provider.py</code> (abstract interface)</li> <li>Prepared for external catalog integration</li> </ul>"},{"location":"project_status/#phase-3-code-quality","title":"Phase 3: Code Quality \u2705","text":"<ul> <li>Coverage: 64% \u2192 83%</li> <li>Tests: 93 \u2192 123</li> <li>Added BigQuery test mocks</li> <li>CI passing on Python 3.12/3.13/3.14</li> </ul>"},{"location":"project_status/#phase-4-bigquery-streaming-performance-v080","title":"Phase 4: BigQuery Streaming &amp; Performance \u2705 (v0.8.0)","text":"<ul> <li>Streaming ingestion: <code>stream_chats_from_bigquery()</code> with pagination</li> <li>Chunked writes: <code>save_to_bigquery()</code> with 500-line chunks</li> <li>Generator support: <code>run_batch()</code> accepts iterators</li> <li>Tests: 123 \u2192 175 (+52 tests including cache and metrics)</li> <li>Performance: ~80% memory reduction for large datasets</li> <li>Redis cache: LLM response caching for cost savings</li> </ul>"},{"location":"project_status/#architecture","title":"Architecture","text":"<ul> <li>ETL: BigQuery \u2192 Gemini API \u2192 BigQuery/Local</li> <li>New: Streaming support for large datasets (prevents OOM)</li> <li>Dashboard: Streamlit multi-page</li> <li>Logging: Structured (file + stdout)</li> <li>Config: Environment-based with typed dataclasses</li> </ul>"},{"location":"adr/001-postgresql-auth/","title":"ADR-001: PostgreSQL para Autentica\u00e7\u00e3o","text":"<p>Status: Aceita Data: 2024-12-18 Decisores: Tech Lead, Backend Team Tags: database, authentication, security</p>"},{"location":"adr/001-postgresql-auth/#contexto","title":"Contexto","text":"<p>O sistema SDR Analytics Dashboard precisa de um mecanismo de autentica\u00e7\u00e3o robusto para controlar acesso \u00e0s dashboards e dados sens\u00edveis. Inicialmente, o projeto n\u00e3o tinha autentica\u00e7\u00e3o.</p>"},{"location":"adr/001-postgresql-auth/#requisitos","title":"Requisitos","text":"<ul> <li>M\u00faltiplos usu\u00e1rios com diferentes n\u00edveis de acesso</li> <li>Suporte para OAuth (Google)</li> <li>Auditoria de a\u00e7\u00f5es (compliance)</li> <li>Session management</li> <li>Escalabilidade para 100+ usu\u00e1rios</li> </ul>"},{"location":"adr/001-postgresql-auth/#decisao","title":"Decis\u00e3o","text":"<p>Escolhemos PostgreSQL como banco de dados para o m\u00f3dulo de autentica\u00e7\u00e3o.</p>"},{"location":"adr/001-postgresql-auth/#alternativas-consideradas","title":"Alternativas Consideradas","text":""},{"location":"adr/001-postgresql-auth/#1-postgresql-escolhida","title":"1. \u2705 PostgreSQL (Escolhida)","text":"<p>Pr\u00f3s: - ACID compliant (transa\u00e7\u00f5es seguras) - Mature e battle-tested - Suporte nativo para JSON (user preferences) - Excelente performance para reads (sess\u00f5es) - Ecosystem rico (pgBouncer, replica\u00e7\u00e3o) - Hospedagem f\u00e1cil (Railway, Supabase, RDS)</p> <p>Contras: - Custo de infraestrutura (vs SQLite) - Requer manuten\u00e7\u00e3o (backups, vacuums)</p>"},{"location":"adr/001-postgresql-auth/#2-sqlite","title":"2. \u274c SQLite","text":"<p>Pr\u00f3s: - Zero configura\u00e7\u00e3o - Sem custos de infraestrutura - Bom para desenvolvimento local</p> <p>Contras: - N\u00e3o suporta concorr\u00eancia (write locks) - Dif\u00edcil de escalar horizontalmente - Backup mais complexo em produ\u00e7\u00e3o - Sem suporte a m\u00faltiplas conex\u00f5es simult\u00e2neas</p>"},{"location":"adr/001-postgresql-auth/#3-mongodb","title":"3. \u274c MongoDB","text":"<p>Pr\u00f3s: - Schema flex\u00edvel - Bom para dados n\u00e3o estruturados</p> <p>Contras: - Sem ACID (at\u00e9 recentemente) - Overkill para dados tabulares simples (users, sessions) - Team sem experi\u00eancia - Mais complexo para joins (audit logs)</p>"},{"location":"adr/001-postgresql-auth/#4-firebase-auth","title":"4. \u274c Firebase Auth","text":"<p>Pr\u00f3s: - Managed service - OAuth integrado - Escalabilidade autom\u00e1tica</p> <p>Contras: - Vendor lock-in (Google) - Custo imprevis\u00edvel - Dif\u00edcil de auditar (logs pr\u00f3prios) - Migra\u00e7\u00e3o complexa</p>"},{"location":"adr/001-postgresql-auth/#justificativa","title":"Justificativa","text":""},{"location":"adr/001-postgresql-auth/#por-que-postgresql","title":"Por que PostgreSQL?","text":"<ol> <li>ACID Compliance: Cr\u00edtico para dados de auth</li> <li>Exemplo: User cria conta \u2192 Session inicia \u2192 Audit log</li> <li> <p>Deve ser at\u00f4mico (tudo ou nada)</p> </li> <li> <p>Auditoria: F\u00e1cil fazer queries em <code>audit_log</code> <pre><code>SELECT * FROM audit_log\nWHERE user_id = 123\nAND action = 'login'\nORDER BY timestamp DESC;\n</code></pre></p> </li> <li> <p>Session Management: Alta frequ\u00eancia de reads</p> </li> <li>PostgreSQL: 10k+ reads/s com \u00edndices</li> <li> <p>SQLite: Bloqueia em 100+ concurrent users</p> </li> <li> <p>Hospedagem: Railway oferece PostgreSQL free tier</p> </li> <li>0.5 GB storage, suficiente para 1000+ users</li> <li> <p>Backups autom\u00e1ticos</p> </li> <li> <p>Team Familiarity: Equipe j\u00e1 usa BigQuery (SQL)</p> </li> </ol>"},{"location":"adr/001-postgresql-auth/#consequencias","title":"Consequ\u00eancias","text":""},{"location":"adr/001-postgresql-auth/#positivas","title":"Positivas","text":"<p>\u2705 Escalabilidade: Suporta crescimento para 10k+ users \u2705 Confiabilidade: ACID garante consist\u00eancia \u2705 Auditoria: Queries complexas facilitadas \u2705 Ecosystem: pgBouncer, replica\u00e7\u00e3o, monitoring \u2705 Development: Mesma stack SQL (BigQuery + PostgreSQL)</p>"},{"location":"adr/001-postgresql-auth/#negativas","title":"Negativas","text":"<p>\u26a0\ufe0f Custo: ~$7/m\u00eas em produ\u00e7\u00e3o (Railway/Supabase) \u26a0\ufe0f Opera\u00e7\u00e3o: Requer backups, vacuums, monitoring \u26a0\ufe0f Setup: Mais complexo que SQLite para dev local</p>"},{"location":"adr/001-postgresql-auth/#mitigacoes","title":"Mitiga\u00e7\u00f5es","text":"<ul> <li>Custo: Free tier suficiente inicialmente</li> <li>Opera\u00e7\u00e3o: Railway faz backups autom\u00e1ticos</li> <li>Setup: Docker Compose para dev local</li> </ul>"},{"location":"adr/001-postgresql-auth/#implementacao","title":"Implementa\u00e7\u00e3o","text":"<pre><code># src/auth/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\nDATABASE_URL = \"postgresql://user:pass@host:5432/db\"\n\nengine = create_engine(DATABASE_URL, pool_size=20)\nSessionLocal = sessionmaker(bind=engine)\n</code></pre>"},{"location":"adr/001-postgresql-auth/#modelos","title":"Modelos","text":"<ul> <li><code>users</code>: id, username, email, password_hash, role</li> <li><code>sessions</code>: id, user_id, token, expires_at</li> <li><code>audit_log</code>: id, user_id, action, timestamp, metadata</li> <li><code>user_preferences</code>: user_id, theme, filters (JSONB)</li> </ul>"},{"location":"adr/001-postgresql-auth/#licoes-aprendidas","title":"Li\u00e7\u00f5es Aprendidas","text":"<ol> <li>\u00cdndices s\u00e3o cr\u00edticos: Sem \u00edndice em <code>users.email</code>, login demora 500ms</li> <li>Connection pooling: PgBouncer reduziu lat\u00eancia em 40%</li> <li>JSONB \u00e9 poderoso: User preferences como JSONB simplificou schema</li> </ol>"},{"location":"adr/001-postgresql-auth/#revisoes","title":"Revis\u00f5es","text":"Data Decisor Mudan\u00e7a 2024-12-18 Tech Lead Decis\u00e3o inicial 2024-12-20 Backend Adicionado JSONB para preferences <p>Refer\u00eancias: - PostgreSQL vs MongoDB - Railway PostgreSQL - SQLAlchemy Best Practices</p>"},{"location":"adr/002-echarts-vs-plotly/","title":"ADR-002: ECharts vs Plotly para Visualiza\u00e7\u00f5es","text":"<p>Status: Aceita Data: 2024-11-20 Decisores: Frontend Lead, Product Tags: charts, visualization, UX</p>"},{"location":"adr/002-echarts-vs-plotly/#contexto","title":"Contexto","text":"<p>O dashboard precisa de gr\u00e1ficos interativos de alta qualidade para an\u00e1lise de dados de atendimento. Inicialmente us\u00e1vamos apenas Plotly, mas encontramos limita\u00e7\u00f5es de performance e customiza\u00e7\u00e3o.</p>"},{"location":"adr/002-echarts-vs-plotly/#requisitos","title":"Requisitos","text":"<ul> <li>Gr\u00e1ficos interativos (zoom, pan, hover)</li> <li>Alta performance com 1000+ pontos de dados</li> <li>Customiza\u00e7\u00e3o de tooltips</li> <li>Estilo consistente com design system</li> <li>Mobile-responsive</li> </ul>"},{"location":"adr/002-echarts-vs-plotly/#decisao","title":"Decis\u00e3o","text":"<p>Adotamos ECharts (via streamlit-echarts) como biblioteca padr\u00e3o para gr\u00e1ficos, mantendo Plotly para casos espec\u00edficos.</p>"},{"location":"adr/002-echarts-vs-plotly/#arquitetura-hibrida","title":"Arquitetura H\u00edbrida","text":"<ul> <li>ECharts: Gr\u00e1ficos principais (barras, linhas, pizza)</li> <li>Plotly: Scatter plots, heatmaps complexos</li> </ul>"},{"location":"adr/002-echarts-vs-plotly/#comparacao-detalhada","title":"Compara\u00e7\u00e3o Detalhada","text":"Crit\u00e9rio Plotly ECharts Vencedor Performance \ud83d\udfe1 500+ pontos OK \ud83d\udfe2 10k+ pontos suave ECharts Customiza\u00e7\u00e3o Tooltip \ud83d\udd34 Limitado \ud83d\udfe2 HTML completo ECharts Mobile \ud83d\udfe2 Bom \ud83d\udfe2 Excelente Empate Curva de aprendizado \ud83d\udfe2 F\u00e1cil (Python) \ud83d\udfe1 M\u00e9dio (JSON) Plotly Documenta\u00e7\u00e3o \ud83d\udfe2 Excelente \ud83d\udfe1 Razo\u00e1vel Plotly Bundle size \ud83d\udd34 ~1MB \ud83d\udfe2 ~200KB ECharts Anima\u00e7\u00f5es \ud83d\udfe1 B\u00e1sicas \ud83d\udfe2 Ricas ECharts"},{"location":"adr/002-echarts-vs-plotly/#justificativa","title":"Justificativa","text":""},{"location":"adr/002-echarts-vs-plotly/#problemas-com-plotly-puro","title":"Problemas com Plotly Puro","text":"<ol> <li> <p>Tooltips Limitados: N\u00e3o conseguimos formatar n\u00fameros    <pre><code># Plotly: sempre mostra decimais feios\n# 1500.0000 em vez de 1,500\n</code></pre></p> </li> <li> <p>Performance: Scatter com 2000+ pontos travava</p> </li> <li>Plotly: 3-5 segundos para renderizar</li> <li> <p>ECharts: &lt; 1 segundo</p> </li> <li> <p>Bundle Size: Plotly.js \u00e9 ~1MB</p> </li> <li>Aumenta tempo de carregamento inicial</li> <li>ECharts: ~200KB comprimido</li> </ol>"},{"location":"adr/002-echarts-vs-plotly/#vantagens-do-echarts","title":"Vantagens do ECharts","text":"<ol> <li> <p>Formata\u00e7\u00e3o Rica: Tooltips com HTML    <pre><code>tooltip: {\n  formatter: (params) =&gt; `\n    &lt;b&gt;${params.name}&lt;/b&gt;&lt;br/&gt;\n    TME: ${params.value.toFixed(1)} min\n  `\n}\n</code></pre></p> </li> <li> <p>Performance: Renderiza\u00e7\u00e3o via Canvas (n\u00e3o SVG)</p> </li> <li> <p>10x mais r\u00e1pido para muitos pontos</p> </li> <li> <p>Temas: F\u00e1cil sincronizar com tema dark/light    <pre><code>st_echarts(option, theme=\"dark\")\n</code></pre></p> </li> </ol>"},{"location":"adr/002-echarts-vs-plotly/#casos-de-uso","title":"Casos de Uso","text":""},{"location":"adr/002-echarts-vs-plotly/#usar-echarts-quando","title":"Usar ECharts quando:","text":"<p>\u2705 Gr\u00e1fico de barras/linhas/pizza \u2705 Necessita tooltips customizados \u2705 &gt; 500 pontos de dados \u2705 Anima\u00e7\u00f5es importam</p>"},{"location":"adr/002-echarts-vs-plotly/#usar-plotly-quando","title":"Usar Plotly quando:","text":"<p>\u2705 Scatter plot complexo (TME vs Volume) \u2705 Heatmap (j\u00e1 bem otimizado) \u2705 Exporta\u00e7\u00e3o para PDF (Plotly tem melhor suporte) \u2705 Team precisa prototipar r\u00e1pido (Python puro)</p>"},{"location":"adr/002-echarts-vs-plotly/#consequencias","title":"Consequ\u00eancias","text":""},{"location":"adr/002-echarts-vs-plotly/#positivas","title":"Positivas","text":"<p>\u2705 UX Melhorada: Tooltips formatados, n\u00fameros leg\u00edveis \u2705 Performance: Dashboards 3x mais r\u00e1pidos \u2705 Bundle: P\u00e1ginas carregam 400ms mais r\u00e1pido \u2705 Flexibilidade: Cada chart usa tool certa</p>"},{"location":"adr/002-echarts-vs-plotly/#negativas","title":"Negativas","text":"<p>\u26a0\ufe0f Complexidade: Duas bibliotecas para manter \u26a0\ufe0f Learning Curve: Time precisa aprender JSON config do ECharts \u26a0\ufe0f Inconsist\u00eancia: Estilos podem divergir</p>"},{"location":"adr/002-echarts-vs-plotly/#mitigac-oes","title":"Mitiga\u00e7 \u00f5es","text":"<ul> <li>Complexidade: Wrappers <code>render_echarts_*</code> abstraem configura\u00e7\u00e3o</li> <li>Learning: Documentamos padr\u00f5es comuns</li> <li>Inconsist\u00eancia: Theme helper sincroniza cores</li> </ul>"},{"location":"adr/002-echarts-vs-plotly/#implementacao","title":"Implementa\u00e7\u00e3o","text":"<pre><code># src/dashboard_utils.py\n\ndef render_echarts_bar(data, title, xaxis_name, yaxis_name):\n    \"\"\"Renderiza gr\u00e1fico de barras com ECharts.\"\"\"\n    option = {\n        \"title\": {\"text\": title},\n        \"xAxis\": {\"type\": \"category\", \"data\": data[\"labels\"]},\n        \"yAxis\": {\"type\": \"value\", \"name\": yaxis_name},\n        \"series\": [{\n            \"type\": \"bar\",\n            \"data\": data[\"values\"],\n            \"itemStyle\": {\"color\": get_colors()[\"primary\"]},\n        }],\n        \"tooltip\": {\n            \"trigger\": \"axis\",\n            \"formatter\": \"{b}: {c}\"  # Formata\u00e7\u00e3o customizada\n        }\n    }\n\n    st_echarts(option, theme=\"dark\" if is_dark_mode() else \"light\")\n</code></pre>"},{"location":"adr/002-echarts-vs-plotly/#metricas-de-sucesso","title":"M\u00e9tricas de Sucesso","text":"M\u00e9trica Antes (Plotly) Depois (ECharts) Melhoria Load time (Dashboard) 2.5s 1.8s \u2b07\ufe0f 28% Render time (1000 pts) 3.2s 0.8s \u2b07\ufe0f 75% Bundle size 1.2MB 800KB \u2b07\ufe0f 33% User satisfaction 7/10 9/10 \u2b06\ufe0f 29%"},{"location":"adr/002-echarts-vs-plotly/#licoes-aprendidas","title":"Li\u00e7\u00f5es Aprendidas","text":"<ol> <li>N\u00e3o \u00e9 um ou outro: H\u00edbrido \u00e9 v\u00e1lido</li> <li>Performance importa: Usu\u00e1rios sentem diferen\u00e7a de 1s</li> <li>Formata\u00e7\u00e3o de n\u00fameros: Cr\u00edtico para dashboards financeiros</li> <li>Abstra\u00e7\u00f5es s\u00e3o chave: Wrappers escondem complexidade</li> </ol>"},{"location":"adr/002-echarts-vs-plotly/#revisoes","title":"Revis\u00f5es","text":"Data Decisor Mudan\u00e7a 2024-11-20 Frontend Decis\u00e3o inicial 2024-12-01 Product Mant\u00e9m Plotly para scatter <p>Refer\u00eancias: - ECharts Documentation - Plotly vs ECharts Benchmark - streamlit-echarts</p>"},{"location":"adr/003-streamlit-architecture/","title":"ADR-003: Streamlit como Framework de Dashboard","text":"<p>Status: Aceita Data: 2024-10-15 Decisores: Tech Lead, Product Manager Tags: framework, frontend, architecture</p>"},{"location":"adr/003-streamlit-architecture/#contexto","title":"Contexto","text":"<p>Precisamos de um dashboard para visualizar an\u00e1lises de atendimento SDR. Time \u00e9 composto por 1 backend dev e 1 data analyst. Prazo: 2 semanas para MVP.</p>"},{"location":"adr/003-streamlit-architecture/#requisitos","title":"Requisitos","text":"<ul> <li>Prot\u00f3tipo r\u00e1pido (&lt; 2 semanas)</li> <li>Autentica\u00e7\u00e3o customizada</li> <li>M\u00faltiplas p\u00e1ginas especializadas</li> <li>Gr\u00e1ficos interativos</li> <li>Filtros din\u00e2micos</li> <li>Deploy simples</li> </ul>"},{"location":"adr/003-streamlit-architecture/#decisao","title":"Decis\u00e3o","text":"<p>Escolhemos Streamlit como framework principal do dashboard.</p>"},{"location":"adr/003-streamlit-architecture/#alternativas-consideradas","title":"Alternativas Consideradas","text":""},{"location":"adr/003-streamlit-architecture/#1-streamlit-escolhida","title":"1. \u2705 Streamlit (Escolhida)","text":"<p>Pr\u00f3s: - Python puro (sem HTML/CSS/JS) - Prot\u00f3tipo em dias, n\u00e3o semanas - Componentes de gr\u00e1ficos built-in - Multi-page apps nativamente - Deploy f\u00e1cil (Streamlit Cloud gratuito) - Session state para filtros - Community ativa</p> <p>Contras: - Customiza\u00e7\u00e3o de UI limitada - N\u00e3o \u00e9 SPA (reloads completos) - Performance com muitos widgets - Limitado para apps complexos</p>"},{"location":"adr/003-streamlit-architecture/#2-dash-plotly","title":"2. \u274c Dash (Plotly)","text":"<p>Pr\u00f3s: - Mais controle de layout - Callbacks expl\u00edcitos - Melhor para apps complexos</p> <p>Contras: - Curva de aprendizado maior - Mais c\u00f3digo para mesma funcionalidade - Auth n\u00e3o \u00e9 built-in - Deploy mais complexo</p> <p>Exemplo: <pre><code># Streamlit: 3 linhas\nimport streamlit as st\nst.title(\"Dashboard\")\nst.line_chart(data)\n\n# Dash: ~20 linhas\nimport dash\nfrom dash import dcc, html\napp = dash.Dash(__name__)\napp.layout = html.Div([\n    html.H1(\"Dashboard\"),\n    dcc.Graph(figure={\"data\": [...], \"layout\": {...}})\n])\n</code></pre></p>"},{"location":"adr/003-streamlit-architecture/#3-nextjs-fastapi","title":"3. \u274c Next.js + FastAPI","text":"<p>Pr\u00f3s: - M\u00e1xima customiza\u00e7\u00e3o - SPA verdadeiro - Mobile-first - SEOOptimizado</p> <p>Contras: - 2-3x mais c\u00f3digo - Requer frontend dev (n\u00e3o temos) - 4-6 semanas para MVP - Deploy mais complexo</p>"},{"location":"adr/003-streamlit-architecture/#4-jupyter-notebooks-voila","title":"4. \u274c Jupyter Notebooks + Voil\u00e0","text":"<p>Pr\u00f3s: - Familiar para data teams - Itera\u00e7\u00e3o r\u00e1pida</p> <p>Contras: - UI muito b\u00e1sica - Sem autentica\u00e7\u00e3o built-in - Dif\u00edcil de versionar - N\u00e3o \u00e9 multi-page</p>"},{"location":"adr/003-streamlit-architecture/#justificativa","title":"Justificativa","text":""},{"location":"adr/003-streamlit-architecture/#por-que-streamlit","title":"Por que Streamlit?","text":"<ol> <li>Velocidade de Desenvolvimento: MVP em 5 dias</li> <li>Dia 1: Auth + Login</li> <li>Dia 2-3: Dashboards principais</li> <li>Dia 4: Filtros e polimento</li> <li> <p>Dia 5: Deploy e testes</p> </li> <li> <p>Team Fit: Time 100% Python</p> </li> <li>Sem necessidade de contratar frontend</li> <li> <p>Data analyst pode contribuir diretamente</p> </li> <li> <p>Funcionalidades Built-in:    <pre><code># Filtros din\u00e2micos: 1 linha\nselected_agent = st.selectbox(\"Agente\", agents)\n\n# Gr\u00e1fico: 1 linha\nst.plotly_chart(fig)\n\n# File upload: 1 linha\nuploaded_file = st.file_uploader(\"CSV\")\n</code></pre></p> </li> <li> <p>Auth Flex\u00edvel: Permite customiza\u00e7\u00e3o total</p> </li> <li>PostgreSQL pr\u00f3prio (n\u00e3o vendor lock-in)</li> <li> <p>OAuth integrado depois</p> </li> <li> <p>Cost: $0 para hospedar (Streamlit Cloud free tier)</p> </li> </ol>"},{"location":"adr/003-streamlit-architecture/#trade-offs-aceitos","title":"Trade-offs Aceitos","text":""},{"location":"adr/003-streamlit-architecture/#o-que-sacrificamos","title":"O que Sacrificamos","text":"<p>\u274c SPA Experience: Full page reloads \u274c Mobile Inferior: N\u00e3o otimizado para touch \u274c UI Customiza\u00e7\u00e3o: Limitado a componentes Streamlit \u274c SEO: N\u00e3o \u00e9 p\u00fablico, ent\u00e3o n\u00e3o importa</p>"},{"location":"adr/003-streamlit-architecture/#o-que-ganhamos","title":"O que Ganhamos","text":"<p>\u2705 Time to Market: 2 semanas vs 2 meses \u2705 Manutenibilidade: C\u00f3digo Python simples \u2705 Custo de Dev: 1 dev vs 2-3 devs \u2705 Deploy: Click de bot\u00e3o vs DevOps complexo</p>"},{"location":"adr/003-streamlit-architecture/#consequencias","title":"Consequ\u00eancias","text":""},{"location":"adr/003-streamlit-architecture/#decisoes-arquiteturais-derivadas","title":"Decis\u00f5es Arquiteturais Derivadas","text":"<ol> <li> <p>Session State para Filtros:    <pre><code>if \"filters\" not in st.session_state:\n    st.session_state.filters = {}\n</code></pre></p> </li> <li> <p>Cache para Performance:    <pre><code>@st.cache_data\ndef load_data():\n    # Evita reload a cada intera\u00e7\u00e3o\n</code></pre></p> </li> <li> <p>Multi-page via <code>pages/</code>:    <pre><code>pages/\n\u251c\u2500\u2500 1_\ud83d\udcca_Vis\u00e3o_Geral.py\n\u251c\u2500\u2500 2_\ud83d\udc65_Agentes.py\n\u2514\u2500\u2500 3_\ud83d\udcc8_Temporal.py\n</code></pre></p> </li> </ol>"},{"location":"adr/003-streamlit-architecture/#limitacoes-conhecidas","title":"Limita\u00e7\u00f5es Conhecidas","text":"<p>\u26a0\ufe0f N\u00e3o \u00e9 para: - Apps com milhares de usu\u00e1rios simult\u00e2neos - UIs altamente customizadas (design system pr\u00f3prio) - Real-time updates (WebSocket) - Mobile apps nativos</p>"},{"location":"adr/003-streamlit-architecture/#quando-migrar","title":"Quando Migrar?","text":"<p>Considerar migra\u00e7\u00e3o para Next.js + FastAPI se: - &gt; 500 usu\u00e1rios concorrentes - Necessidade de SPA/offline mode - Mobile app nativo requerido - UI customiza\u00e7\u00e3o cr\u00edtica</p>"},{"location":"adr/003-streamlit-architecture/#implementacao","title":"Implementa\u00e7\u00e3o","text":""},{"location":"adr/003-streamlit-architecture/#estrutura-do-projeto","title":"Estrutura do Projeto","text":"<pre><code>projeto_analise_SDR/\n\u251c\u2500\u2500 dashboard.py          # Entry point\n\u251c\u2500\u2500 pages/                # Multi-page app\n\u2502   \u251c\u2500\u2500 0_\ud83d\udd10_Login.py\n\u2502   \u2514\u2500\u2500 1_\ud83d\udcca_Vis\u00e3o_Geral.py\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 auth/             # Auth module (custom)\n\u2502   \u251c\u2500\u2500 dashboard_utils.py  # Shared components\n\u2502   \u2514\u2500\u2500 ingestion.py      # Data loading\n</code></pre>"},{"location":"adr/003-streamlit-architecture/#padroes-estabelecidos","title":"Padr\u00f5es Estabelecidos","text":"<ol> <li> <p>Require Auth: Toda p\u00e1gina come\u00e7a com    <pre><code>from src.auth.auth_manager import AuthManager\nAuthManager.require_auth()\n</code></pre></p> </li> <li> <p>Sidebar Consistente:    <pre><code>from src.dashboard_utils import render_user_sidebar\nrender_user_sidebar()\n</code></pre></p> </li> <li> <p>Cache de Dados:    <pre><code>@st.cache_data(ttl=600)  # 10 min\ndef load_chats():\n    ...\n</code></pre></p> </li> </ol>"},{"location":"adr/003-streamlit-architecture/#metricas-de-sucesso","title":"M\u00e9tricas de Sucesso","text":"M\u00e9trica Target Real Status Time to MVP 2 semanas 5 dias \u2705 +60% faster Lines of Code &lt; 5000 3200 \u2705 36% abaixo Deploy Time &lt; 1 hora 10 min \u2705 83% melhor Learning Curve 1 semana 2 dias \u2705 Data analyst contribuiu"},{"location":"adr/003-streamlit-architecture/#licoes-aprendidas","title":"Li\u00e7\u00f5es Aprendidas","text":"<ol> <li>Simplicidade vence: Framework simples = entrega r\u00e1pida</li> <li>Python-only \u00e9 produtivo: Sem context switching entre linguagens</li> <li>Cache \u00e9 essencial: <code>@st.cache_data</code> salvou performance</li> <li>Limita\u00e7\u00f5es OK: Para internal tools, trade-offs valeram a pena</li> </ol>"},{"location":"adr/003-streamlit-architecture/#revisoes","title":"Revis\u00f5es","text":"Data Decisor Mudan\u00e7a 2024-10-15 Tech Lead Decis\u00e3o inicial 2024-12-01 Product Reafirmado ap\u00f3s 6 meses de uso <p>Refer\u00eancias: - Streamlit Documentation - Streamlit vs Dash - Streamlit Multi-page Apps</p>"},{"location":"runbooks/rollback/","title":"Runbook: Rollback de Deploy","text":"<p>\u26a0\ufe0f CONFIDENCIAL - USO INTERNO APENAS</p> <p>Este documento cont\u00e9m procedimentos operacionais internos. N\u00e3o compartilhar publicamente ou fora da organiza\u00e7\u00e3o. Credenciais e URLs de produ\u00e7\u00e3o devem estar APENAS no <code>.env</code> (nunca em git ou documenta\u00e7\u00e3o).</p>"},{"location":"runbooks/rollback/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>Procedimento para reverter um deploy com problemas em produ\u00e7\u00e3o.</p>"},{"location":"runbooks/rollback/#quando-usar","title":"Quando Usar","text":"<p>Execute este runbook se: - \u2705 Deploy causou erros cr\u00edticos - \u2705 Funcionalidade principal quebrada - \u2705 Usu\u00e1rios reportando problemas - \u2705 Sentry mostrando spike de erros</p> <p>N\u00c3O execute se: - \u274c Apenas um bug menor - \u274c Afeta &lt; 5% dos usu\u00e1rios - \u274c Pode ser corrigido com hotfix r\u00e1pido</p>"},{"location":"runbooks/rollback/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>Acesso SSH ao servidor (ou painel de controle)</li> <li>Git local com branch atualizada</li> <li>Backup recente do banco de dados</li> <li>15 minutos de janela de manuten\u00e7\u00e3o</li> </ul>"},{"location":"runbooks/rollback/#procedimento-de-rollback","title":"Procedimento de Rollback","text":""},{"location":"runbooks/rollback/#1-confirmar-necessidade","title":"1. Confirmar Necessidade","text":"<pre><code># Verificar health check\ncurl https://seu-dominio.com/health\n\n# Verificar Sentry\n# Abrir: https://sentry.io/organizations/your-org/issues/\n# Procurar por erros recentes\n</code></pre> <p>Decis\u00e3o: Se &gt; 10 erros/min, prosseguir com rollback.</p>"},{"location":"runbooks/rollback/#2-comunicar-stakeholders","title":"2. Comunicar Stakeholders","text":"<pre><code>\ud83d\udea8 ALERTA DE ROLLBACK\n\nStatus: Iniciando rollback do deploy X.Y.Z\nMotivo: [Descrever problema]\nETA: 15 minutos\nA\u00e7\u00e3o: Sistema em manuten\u00e7\u00e3o\n</code></pre> <p>Enviar para: - Canal #tech no Slack - Email: equipe@empresa.com</p>"},{"location":"runbooks/rollback/#3-git-rollback","title":"3. Git Rollback","text":"<pre><code># Identificar commit antes do problema\ngit log --oneline -10\n\n# Fazer rollback\ngit revert &lt;commit-hash-problem\u00e1tico&gt; --no-edit\n\n# OU, se m\u00faltiplos commits:\ngit reset --hard &lt;commit-hash-bom&gt;\ngit push origin main --force-with-lease\n</code></pre> <p>\u26a0\ufe0f CUIDADO: <code>--force</code> reescreve hist\u00f3rico!</p>"},{"location":"runbooks/rollback/#4-deploy-da-versao-anterior","title":"4. Deploy da Vers\u00e3o Anterior","text":"<p>Op\u00e7\u00e3o A: Plataforma Cloud (Heroku/Railway) <pre><code># Usar interface web\n# Dashboard &gt; Deployments &gt; Rollback to &lt;hash&gt;\n</code></pre></p> <p>Op\u00e7\u00e3o B: Docker <pre><code># Fazer build da vers\u00e3o anterior\ngit checkout &lt;commit-hash-bom&gt;\ndocker build -t sdr-analytics:rollback .\ndocker stop sdr-analytics\ndocker run -d --name sdr-analytics sdr-analytics:rollback\n</code></pre></p> <p>Op\u00e7\u00e3o C: Streamlit Cloud <pre><code># Push no branch main vai triggerar redeploy autom\u00e1tico\ngit push origin main --force-with-lease\n</code></pre></p>"},{"location":"runbooks/rollback/#5-verificar-database-migrations","title":"5. Verificar Database Migrations","text":"<pre><code># Se o deploy incluiu migrations, reverter:\ncd projeto_analise_SDR\n\n# Alembic (se usando)\npoetry run alembic downgrade -1\n\n# OU manual\npsql -U postgres -d sdr_analytics &lt; backup/rollback_migration.sql\n</code></pre> <p>\u26a0\ufe0f Aten\u00e7\u00e3o: Migrations de dados s\u00e3o irrevers\u00edveis!</p>"},{"location":"runbooks/rollback/#6-smoke-tests","title":"6. Smoke Tests","text":"<pre><code># 1. Health check\ncurl https://seu-dominio.com/health\n# Esperado: {\"status\": \"healthy\"}\n\n# 2. Login\n# Abrir: https://seu-dominio.com\n# Fazer login manual\n\n# 3. Dashboard principal\n# Verificar carregamento de dados\n\n# 4. Sentry\n# Confirmar que erros pararam\n</code></pre>"},{"location":"runbooks/rollback/#7-monitorar-por-30-min","title":"7. Monitorar por 30 min","text":"<pre><code># Abrir Sentry\n# Filtrar por \"Last 30 minutes\"\n\n# Verificar logs\ntail -f /var/log/sdr-analytics/app.log\n\n# Verificar m\u00e9tricas\n# Abrir Grafana/DataDog (se configurado)\n</code></pre>"},{"location":"runbooks/rollback/#8-comunicar-resolucao","title":"8. Comunicar Resolu\u00e7\u00e3o","text":"<pre><code>\u2705 ROLLBACK COMPLETO\n\nStatus: Sistema restaurado\nVers\u00e3o: X.Y.Z \u2192 X.Y.(Z-1)\nUptime: 100% desde rollback\nPr\u00f3ximos passos:\n- Investigar causa raiz\n- Fix em branch separada\n- Code review extra\n</code></pre>"},{"location":"runbooks/rollback/#post-mortem-24h-depois","title":"Post-Mortem (24h depois)","text":""},{"location":"runbooks/rollback/#criar-incident-report","title":"Criar Incident Report","text":"<pre><code>## Incident Report - YYYY-MM-DD\n\n**Dura\u00e7\u00e3o:** [in\u00edcio] \u2192 [fim]\n**Impacto:** [X usu\u00e1rios afetados, Y downtime]\n**Causa Raiz:** [Descri\u00e7\u00e3o t\u00e9cnica]\n\n**Timeline:**\n- 10:00 - Deploy da vers\u00e3o X.Y.Z\n- 10:15 - Primeiros erros no Sentry\n- 10:20 - Decis\u00e3o de rollback\n- 10:35 - Rollback completo\n- 10:50 - Verifica\u00e7\u00e3o OK\n\n**Li\u00e7\u00f5es Aprendidas:**\n1. [O que funcionou bem]\n2. [O que pode melhorar]\n\n**Action Items:**\n- [ ] Adicionar teste de integra\u00e7\u00e3o para caso X\n- [ ] Melhorar staging environment\n- [ ] Code review extra para mudan\u00e7as em Y\n</code></pre>"},{"location":"runbooks/rollback/#prevencao-futura","title":"Preven\u00e7\u00e3o Futura","text":"<ul> <li>\u2705 Staging obrigat\u00f3rio: Todo deploy passa por staging primeiro</li> <li>\u2705 Smoke tests: Autom\u00e1ticos p\u00f3s-deploy</li> <li>\u2705 Gradual rollout: Deploy para 10% \u2192 50% \u2192 100%</li> <li>\u2705 Feature flags: Desabilitar features sem redeploy</li> </ul>"},{"location":"runbooks/rollback/#contatos-de-emergencia","title":"Contatos de Emerg\u00eancia","text":"Pessoa Role Contato [Nome] Tech Lead +55 11 99999-9999 [Nome] DevOps devops@empresa.com [Nome] DBA +55 11 88888-8888 <p>\u00daltima atualiza\u00e7\u00e3o: 2024-12-29</p>"},{"location":"runbooks/troubleshooting/","title":"Runbook: Troubleshooting","text":"<p>\u26a0\ufe0f CONFIDENCIAL - USO INTERNO APENAS</p> <p>Este documento cont\u00e9m procedimentos de diagn\u00f3stico e comandos de sistema. N\u00e3o compartilhar publicamente. Senhas e credenciais reais nunca devem ser documentadas aqui.</p>"},{"location":"runbooks/troubleshooting/#problemas-comuns-e-solucoes","title":"Problemas Comuns e Solu\u00e7\u00f5es","text":""},{"location":"runbooks/troubleshooting/#login-nao-funciona","title":"\ud83d\udd34 Login N\u00e3o Funciona","text":""},{"location":"runbooks/troubleshooting/#sintomas","title":"Sintomas","text":"<ul> <li>Usu\u00e1rio n\u00e3o consegue fazer login</li> <li>Mensagem \"Credenciais inv\u00e1lidas\" mesmo com senha correta</li> <li>Google OAuth n\u00e3o redireciona</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar PostgreSQL\ncurl http://localhost:8501/health\n# Observar status do \"postgres\"\n\n# 2. Verificar logs\ntail -f logs/app.log | grep \"login\"\n\n# 3. Testar conex\u00e3o direta\npsql -h $AUTH_DATABASE_HOST -U $AUTH_DATABASE_USER -d $AUTH_DATABASE_NAME\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o PostgreSQL down Reiniciar: <code>sudo systemctl restart postgresql</code> Credenciais erradas em <code>.env</code> Verificar <code>AUTH_DATABASE_*</code> vars Senha hash inv\u00e1lido Resetar senha via admin panel OAuth mal configurado Verificar <code>GOOGLE_OAUTH_*</code> vars"},{"location":"runbooks/troubleshooting/#solucao-rapida","title":"Solu\u00e7\u00e3o R\u00e1pida","text":"<pre><code># Reset de senha via Python\npoetry run python\n&gt;&gt;&gt; from src.auth.models import User\n&gt;&gt;&gt; from src.auth.database import SessionLocal\n&gt;&gt;&gt; db = SessionLocal()\n&gt;&gt;&gt; user = db.query(User).filter(User.username == \"admin\").first()\n&gt;&gt;&gt; user.set_password(\"nova_senha_123\")\n&gt;&gt;&gt; db.commit()\n</code></pre>"},{"location":"runbooks/troubleshooting/#dashboard-lento","title":"\u26a0\ufe0f Dashboard Lento","text":""},{"location":"runbooks/troubleshooting/#sintomas_1","title":"Sintomas","text":"<ul> <li>P\u00e1ginas demoram &gt; 10s para carregar</li> <li>Gr\u00e1ficos n\u00e3o aparecem</li> <li>Timeout em queries</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico_1","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar uso de CPU/mem\u00f3ria\ntop\n# Procurar processo python\n\n# 2. Verificar queries lentas no PostgreSQL\npsql -U postgres -d sdr_analytics\nSELECT * FROM pg_stat_activity WHERE state = 'active';\n\n# 3. Verificar cache\n# Abrir Streamlit, ver console do browser\n# Procurar por \"Using cached data\"\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns_1","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o BigQuery query pesada Adicionar filtro de data Cache desabilitado Verificar <code>@st.cache_data</code> Muitos chats carregados Limitar a 1000 registros \u00cdndices faltando Criar \u00edndices (ver abaixo)"},{"location":"runbooks/troubleshooting/#solucao-adicionar-indices","title":"Solu\u00e7\u00e3o: Adicionar \u00cdndices","text":"<pre><code>-- PostgreSQL (auth)\nCREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\nCREATE INDEX IF NOT EXISTS idx_alerts_status ON alerts(status, created_at);\n\n-- Se usar PostgreSQL para dados de chats\nCREATE INDEX IF NOT EXISTS idx_chats_timestamp ON chats(timestamp);\nCREATE INDEX IF NOT EXISTS idx_chats_agent ON chats(agent_name);\n</code></pre>"},{"location":"runbooks/troubleshooting/#alertas-nao-disparando","title":"\ud83d\udd35 Alertas N\u00e3o Disparando","text":""},{"location":"runbooks/troubleshooting/#sintomas_2","title":"Sintomas","text":"<ul> <li>TME alto mas sem alerta</li> <li>Badge de alertas sempre em 0</li> <li>P\u00e1gina de alertas vazia</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico_2","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar se tabelas existem\npsql -U postgres -d sdr_analytics\n\\dt alerts*\n\n# 2. Testar servi\u00e7o manualmente\npoetry run python\n&gt;&gt;&gt; from src.auth.alert_service import AlertService\n&gt;&gt;&gt; alert = AlertService.check_tme_threshold(current_tme=20.0)\n&gt;&gt;&gt; print(alert)\n\n# 3. Verificar thresholds\n&gt;&gt;&gt; threshold = AlertService.get_threshold(\"tme_high\")\n&gt;&gt;&gt; print(threshold)  # Esperado: 15.0\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns_2","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o Tabelas n\u00e3o criadas Rodar migrations: <code>alembic upgrade head</code> Thresholds muito altos Ajustar na p\u00e1gina de Alertas Alertas j\u00e1 reconhecidos Verificar hist\u00f3rico"},{"location":"runbooks/troubleshooting/#exportacao-excel-falha","title":"\ud83d\udfe1 Exporta\u00e7\u00e3o Excel Falha","text":""},{"location":"runbooks/troubleshooting/#sintomas_3","title":"Sintomas","text":"<ul> <li>Bot\u00e3o \"Exportar Excel\" n\u00e3o funciona</li> <li>Download fica carregando infinito</li> <li>Erro \"Memory Error\"</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico_3","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar depend\u00eancias\npoetry show openpyxl\n# Deve estar instalado\n\n# 2. Testar manualmente\npoetry run python\n&gt;&gt;&gt; from src.excel_export import create_chat_export\n&gt;&gt;&gt; chats = []  # Lista vazia para teste\n&gt;&gt;&gt; buffer = create_chat_export(chats)\n&gt;&gt;&gt; print(len(buffer.getvalue()))  # Deve retornar &gt; 0\n\n# 3. Verificar mem\u00f3ria dispon\u00edvel\nfree -h\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns_3","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o openpyxl n\u00e3o instalado <code>poetry add openpyxl</code> Muitos dados (&gt;10k chats) Adicionar pagina\u00e7\u00e3o/filtros Mem\u00f3ria insuficiente Aumentar RAM ou limitar export"},{"location":"runbooks/troubleshooting/#sentry-nao-capturando-erros","title":"\ud83d\udfe2 Sentry N\u00e3o Capturando Erros","text":""},{"location":"runbooks/troubleshooting/#sintomas_4","title":"Sintomas","text":"<ul> <li>Nenhum erro aparece no Sentry</li> <li>Dashboard do Sentry em branco</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico_4","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar DSN configurado\necho $SENTRY_DSN\n# Deve retornar algo como: https://...@sentry.io/...\n\n# 2. Testar captura manual\npoetry run python\n&gt;&gt;&gt; from src.observability import capture_exception\n&gt;&gt;&gt; try:\n&gt;&gt;&gt;     raise ValueError(\"Teste Sentry\")\n&gt;&gt;&gt; except Exception as e:\n&gt;&gt;&gt;     capture_exception(e)\n# Verificar no Sentry se erro apareceu\n\n# 3. Verificar inicializa\u00e7\u00e3o\ntail -f logs/app.log | grep -i sentry\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns_4","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o SENTRY_DSN vazio Adicionar DSN no <code>.env</code> Ambiente n\u00e3o configurado Verificar <code>SENTRY_ENVIRONMENT</code> Firewall bloqueando Liberar sa\u00edda HTTPS para sentry.io"},{"location":"runbooks/troubleshooting/#bigquery-timeout","title":"\ud83d\udcca BigQuery Timeout","text":""},{"location":"runbooks/troubleshooting/#sintomas_5","title":"Sintomas","text":"<ul> <li>Erro \"Query timeout\"</li> <li>Insights page n\u00e3o carrega</li> <li>Mensagem de API limit excedido</li> </ul>"},{"location":"runbooks/troubleshooting/#diagnostico_5","title":"Diagn\u00f3stico","text":"<pre><code># 1. Verificar credenciais\necho $GOOGLE_APPLICATION_CREDENTIALS\ncat $GOOGLE_APPLICATION_CREDENTIALS\n# Deve ser um JSON v\u00e1lido\n\n# 2. Testar query simples\npoetry run python\n&gt;&gt;&gt; from google.cloud import bigquery\n&gt;&gt;&gt; client = bigquery.Client()\n&gt;&gt;&gt; query = \"SELECT 1\"\n&gt;&gt;&gt; client.query(query).result()\n</code></pre>"},{"location":"runbooks/troubleshooting/#causas-comuns_5","title":"Causas Comuns","text":"Causa Solu\u00e7\u00e3o Credenciais expiradas Gerar nova service account key Quota excedida Aguardar reset ou aumentar quota Query muito complexa Simplificar ou adicionar LIMIT Projeto/dataset errado Verificar <code>BIGQUERY_*</code> vars"},{"location":"runbooks/troubleshooting/#logs-uteis","title":"\ud83d\udd27 Logs \u00dateis","text":"<pre><code># Todos os erros das \u00faltimas 24h\njournalctl -u sdr-analytics --since \"24 hours ago\" | grep ERROR\n\n# Logins bem-sucedidos\ntail -f logs/app.log | grep \"Login successful\"\n\n# Queries lentas (&gt; 1s)\ntail -f logs/app.log | grep \"slow query\"\n\n# Health checks\nwatch -n 5 'curl -s http://localhost:8501/health | jq'\n</code></pre>"},{"location":"runbooks/troubleshooting/#escalacao","title":"\ud83c\udd98 Escala\u00e7\u00e3o","text":"Severidade Tempo de Resposta Contato CR\u00cdTICO (sistema down) Imediato Tech Lead + DevOps ALTO (feature quebrada) 1 hora Tech Lead M\u00c9DIO (lentid\u00e3o) 4 horas Equipe de dev BAIXO (bug menor) 1 dia Criar issue no GitHub <p>\u00daltima atualiza\u00e7\u00e3o: 2024-12-29</p>"},{"location":"technical/api/","title":"API Reference","text":""},{"location":"technical/api/#modulo-srcmodels","title":"M\u00f3dulo: <code>src.models</code>","text":""},{"location":"technical/api/#chat","title":"<code>Chat</code>","text":"<p>Modelo principal de um chat.</p> Campo Tipo Descri\u00e7\u00e3o <code>id</code> <code>str</code> ID \u00fanico do chat <code>number</code> <code>str</code> N\u00famero do chat <code>channel</code> <code>str</code> Canal (whatsapp, etc.) <code>contact</code> <code>Contact</code> Dados do cliente <code>agent</code> <code>Optional[Agent]</code> Dados do atendente <code>messages</code> <code>List[Message]</code> Lista de mensagens <code>status</code> <code>str</code> Status do chat"},{"location":"technical/api/#modulo-srcingestion","title":"M\u00f3dulo: <code>src.ingestion</code>","text":""},{"location":"technical/api/#load_chats_from_jsonfile_path-str-listchat","title":"<code>load_chats_from_json(file_path: str) -&gt; List[Chat]</code>","text":"<p>Carrega chats de um arquivo JSON.</p> <p>Par\u00e2metros: - <code>file_path</code>: Caminho para o arquivo JSON</p> <p>Retorna: - Lista de objetos <code>Chat</code></p>"},{"location":"technical/api/#modulo-srcops_analysis","title":"M\u00f3dulo: <code>src.ops_analysis</code>","text":""},{"location":"technical/api/#is_business_hourdt-datetime-bool","title":"<code>is_business_hour(dt: datetime) -&gt; bool</code>","text":"<p>Verifica se datetime est\u00e1 dentro do hor\u00e1rio comercial.</p> <p>Hor\u00e1rio Comercial: - Seg-Qui: 08:00 - 18:00 - Sex: 08:00 - 17:00</p> <p>Par\u00e2metros: - <code>dt</code>: Datetime (timezone aware)</p> <p>Retorna: - <code>True</code> se estiver no expediente</p>"},{"location":"technical/api/#calculate_response_timeschat-chat-dictstr-any","title":"<code>calculate_response_times(chat: Chat) -&gt; Dict[str, Any]</code>","text":"<p>Calcula m\u00e9tricas de tempo de resposta.</p> <p>Retorna: <pre><code>{\n    \"tme_seconds\": float,    # Tempo M\u00e9dio de Espera\n    \"tma_seconds\": float,    # Tempo M\u00e9dio de Atendimento\n    \"response_count\": int    # Quantidade de respostas\n}\n</code></pre></p>"},{"location":"technical/api/#analyze_agent_performancechats-listchat-listdict","title":"<code>analyze_agent_performance(chats: List[Chat]) -&gt; List[Dict]</code>","text":"<p>Gera ranking de agentes.</p> <p>Retorna: <pre><code>[\n    {\n        \"agent\": str,\n        \"chats\": int,\n        \"avg_tme_seconds\": float,\n        \"avg_tma_seconds\": float\n    }\n]\n</code></pre></p>"},{"location":"technical/api/#modulo-srcllm_analysis","title":"M\u00f3dulo: <code>src.llm_analysis</code>","text":""},{"location":"technical/api/#llmanalyzer","title":"<code>LLMAnalyzer</code>","text":"<p>Classe para an\u00e1lise qualitativa com LLM.</p>"},{"location":"technical/api/#__init__api_key-str-mock_key","title":"<code>__init__(api_key: str = \"mock_key\")</code>","text":"<p>Inicializa o analisador.</p>"},{"location":"technical/api/#async-analyze_chatchat-chat-dictstr-any","title":"<code>async analyze_chat(chat: Chat) -&gt; Dict[str, Any]</code>","text":"<p>Analisa um chat e retorna insights.</p> <p>Retorna: <pre><code>{\n    \"cx\": {\n        \"sentiment\": str,\n        \"humanization_score\": int,\n        \"resolution_status\": str\n    },\n    \"product\": {\n        \"products_mentioned\": List[str],\n        \"interest_level\": str\n    },\n    \"sales\": {\n        \"outcome\": str,\n        \"rejection_reason\": Optional[str]\n    }\n}\n</code></pre></p>"},{"location":"technical/api/#modulo-srcreporting","title":"M\u00f3dulo: <code>src.reporting</code>","text":""},{"location":"technical/api/#generate_reportprocessed_data-listdict-dict","title":"<code>generate_report(processed_data: List[Dict]) -&gt; Dict</code>","text":"<p>Gera relat\u00f3rio agregado.</p> <p>Retorna: <pre><code>{\n    \"agent_ranking\": List[Dict],\n    \"product_cloud\": List[Tuple[str, int]],\n    \"sales_funnel\": Dict[str, int],\n    \"loss_reasons\": Dict[str, int]\n}\n</code></pre></p>"},{"location":"technical/architecture/","title":"Arquitetura do Sistema","text":""},{"location":"technical/architecture/#visao-geral","title":"Vis\u00e3o Geral","text":"<pre><code>flowchart TD\n    subgraph Input\n        A[JSON/BigQuery] --&gt; B[ingestion.py]\n    end\n\n    subgraph Processing\n        B --&gt; C[models.py]\n        C --&gt; D{An\u00e1lise}\n        D --&gt; E[ops_analysis.py]\n        D --&gt; F[gemini_client.py]\n    end\n\n    subgraph Output\n        E --&gt; G[reporting.py]\n        F --&gt; G\n        G --&gt; H[analysis_report.json]\n        G --&gt; I[dashboard.py]\n    end</code></pre>"},{"location":"technical/architecture/#fluxo-de-dados","title":"Fluxo de Dados","text":"<ol> <li>Ingest\u00e3o: Dados s\u00e3o carregados de JSON ou BigQuery</li> <li>Parsing: Modelos Pydantic validam e estruturam os dados</li> <li>An\u00e1lise Operacional: C\u00e1lculos de TME, TMA, ranking</li> <li>An\u00e1lise Qualitativa: Gemini API processa sentimento e produtos</li> <li>Relat\u00f3rio: Dados agregados para visualiza\u00e7\u00e3o</li> <li>Dashboard: Interface visual com Streamlit</li> </ol>"},{"location":"technical/architecture/#componentes-principais","title":"Componentes Principais","text":"Componente Arquivo Responsabilidade Modelos <code>src/models.py</code> Estrutura de dados (Pydantic) Schemas LLM <code>src/llm_schemas.py</code> Valida\u00e7\u00e3o de output LLM Ingest\u00e3o <code>src/ingestion.py</code> Carregamento de dados An\u00e1lise Ops <code>src/ops_analysis.py</code> M\u00e9tricas quantitativas Gemini Client <code>src/gemini_client.py</code> Integra\u00e7\u00e3o Gemini API Context Provider <code>src/context_provider.py</code> Interface para contexto empresarial Batch Analyzer <code>src/batch_analyzer.py</code> ETL com checkpoint Relat\u00f3rios <code>src/reporting.py</code> Agrega\u00e7\u00e3o de resultados Dashboard <code>dashboard.py</code> Interface visual Pipeline <code>main.py</code> Orquestra\u00e7\u00e3o"},{"location":"technical/architecture/#stack-tecnologica","title":"Stack Tecnol\u00f3gica","text":"Categoria Tecnologia Linguagem Python 3.12 Gerenciador Poetry Valida\u00e7\u00e3o Pydantic Timezone pytz Dashboard Streamlit Gr\u00e1ficos Plotly Testes pytest + pytest-cov Lint Ruff Types Mypy Docs MkDocs Material"},{"location":"technical/architecture/#estrutura-de-diretorios","title":"Estrutura de Diret\u00f3rios","text":"<pre><code>projeto_analise_SDR/\n\u251c\u2500\u2500 src/                    # C\u00f3digo fonte\n\u251c\u2500\u2500 tests/                  # Testes unit\u00e1rios\n\u251c\u2500\u2500 data/raw/               # Dados brutos\n\u251c\u2500\u2500 docs/                   # Documenta\u00e7\u00e3o (MkDocs)\n\u251c\u2500\u2500 .github/workflows/      # CI/CD\n\u251c\u2500\u2500 main.py                 # Entry point\n\u251c\u2500\u2500 dashboard.py            # Interface visual\n\u251c\u2500\u2500 mkdocs.yml              # Config da documenta\u00e7\u00e3o\n\u2514\u2500\u2500 pyproject.toml          # Config do projeto\n</code></pre>"},{"location":"technical/cicd/","title":"CI/CD","text":""},{"location":"technical/cicd/#github-actions","title":"GitHub Actions","text":"<p>O projeto usa GitHub Actions para automa\u00e7\u00e3o de CI/CD.</p>"},{"location":"technical/cicd/#workflow-principal-githubworkflowsciyml","title":"Workflow Principal (<code>.github/workflows/ci.yml</code>)","text":"<pre><code>name: CI\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n</code></pre>"},{"location":"technical/cicd/#jobs","title":"Jobs","text":"Job Descri\u00e7\u00e3o Python <code>lint</code> Ruff check + format 3.12 <code>typecheck</code> Mypy 3.12 <code>test</code> Pytest + Coverage 3.11, 3.12 <code>security</code> Bandit 3.12"},{"location":"technical/cicd/#pre-commit-hooks","title":"Pre-commit Hooks","text":""},{"location":"technical/cicd/#configuracao","title":"Configura\u00e7\u00e3o","text":"<pre><code># .pre-commit-config.yaml\nrepos:\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    hooks:\n      - id: ruff\n      - id: ruff-format\n\n  - repo: https://github.com/pre-commit/mirrors-mypy\n    hooks:\n      - id: mypy\n</code></pre>"},{"location":"technical/cicd/#instalacao","title":"Instala\u00e7\u00e3o","text":"<pre><code>poetry run pre-commit install\n</code></pre>"},{"location":"technical/cicd/#execucao-manual","title":"Execu\u00e7\u00e3o Manual","text":"<pre><code>poetry run pre-commit run --all-files\n</code></pre>"},{"location":"technical/cicd/#coverage","title":"Coverage","text":""},{"location":"technical/cicd/#configuracao-pyprojecttoml","title":"Configura\u00e7\u00e3o (<code>pyproject.toml</code>)","text":"<pre><code>[tool.coverage.run]\nsource = [\"src\"]\nbranch = true\n\n[tool.coverage.report]\nfail_under = 70\nshow_missing = true\n</code></pre>"},{"location":"technical/cicd/#execucao","title":"Execu\u00e7\u00e3o","text":"<pre><code>poetry run pytest --cov=src --cov-report=term-missing\n</code></pre>"},{"location":"technical/cicd/#documentacao-mkdocs","title":"Documenta\u00e7\u00e3o (MkDocs)","text":""},{"location":"technical/cicd/#servir-localmente","title":"Servir Localmente","text":"<pre><code>poetry run mkdocs serve\n</code></pre>"},{"location":"technical/cicd/#build","title":"Build","text":"<pre><code>poetry run mkdocs build\n</code></pre>"},{"location":"technical/cicd/#deploy-github-pages","title":"Deploy GitHub Pages","text":"<pre><code>poetry run mkdocs gh-deploy\n</code></pre>"},{"location":"technical/cicd/#deploy-da-documentacao","title":"Deploy da Documenta\u00e7\u00e3o","text":"<p>O workflow de deploy \u00e9 autom\u00e1tico via GitHub Actions:</p> <pre><code># .github/workflows/docs.yml\nname: Deploy Docs\n\non:\n  push:\n    branches: [ main ]\n    paths:\n      - 'docs/**'\n      - 'mkdocs.yml'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n      - run: pip install mkdocs-material\n      - run: mkdocs gh-deploy --force\n</code></pre>"},{"location":"technical/components/","title":"Componentes do Sistema","text":""},{"location":"technical/components/#1-models-srcmodelspy","title":"1. Models (<code>src/models.py</code>)","text":"<p>Define os modelos de dados usando Pydantic para valida\u00e7\u00e3o.</p>"},{"location":"technical/components/#classes","title":"Classes","text":"<pre><code>class Organization(BaseModel):\n    id: str = Field(alias=\"_id\")\n    name: str\n    description: Optional[str] = None\n\nclass Contact(BaseModel):\n    id: str\n    name: str\n    email: Optional[str] = None\n    organization: Optional[Organization] = None\n    customFields: Optional[Dict[str, Any]] = None\n\nclass Message(BaseModel):\n    id: str\n    body: str\n    time: datetime\n    sentBy: Optional[MessageSender] = None\n    type: str\n    chatId: str\n\nclass Chat(BaseModel):\n    id: str\n    contact: Contact\n    agent: Optional[Agent] = None\n    messages: List[Message]\n    status: str\n</code></pre>"},{"location":"technical/components/#validadores","title":"Validadores","text":"<p>Os validadores lidam com campos que v\u00eam como strings JSON:</p> <pre><code>@field_validator('contact', mode='before')\ndef parse_contact(cls, v):\n    if isinstance(v, str):\n        return json.loads(v)\n    return v\n</code></pre>"},{"location":"technical/components/#2-ingestao-srcingestionpy","title":"2. Ingest\u00e3o (<code>src/ingestion.py</code>)","text":"<p>Carrega dados de diferentes fontes.</p> <pre><code>def load_chats_from_json(file_path: str) -&gt; List[Chat]:\n    \"\"\"Carrega chats de um arquivo JSON.\"\"\"\n    with open(file_path, 'r', encoding='utf-8') as f:\n        data = json.load(f)\n\n    return [Chat(**item) for item in data]\n</code></pre> <p>Extens\u00e3o Futura</p> <p>Adicionar <code>load_chats_from_bigquery()</code> para integra\u00e7\u00e3o direta.</p>"},{"location":"technical/components/#3-analise-operacional-srcops_analysispy","title":"3. An\u00e1lise Operacional (<code>src/ops_analysis.py</code>)","text":"<p>Calcula m\u00e9tricas quantitativas.</p>"},{"location":"technical/components/#constantes","title":"Constantes","text":"<pre><code>TZ = pytz.timezone('America/Sao_Paulo')\n</code></pre>"},{"location":"technical/components/#funcoes","title":"Fun\u00e7\u00f5es","text":""},{"location":"technical/components/#is_business_hourdt-datetime-bool","title":"<code>is_business_hour(dt: datetime) -&gt; bool</code>","text":"<p>Verifica se datetime est\u00e1 no expediente.</p> <ul> <li>Seg-Qui: 08:00 - 18:00</li> <li>Sex: 08:00 - 17:00</li> </ul>"},{"location":"technical/components/#calculate_response_timeschat-chat-dict","title":"<code>calculate_response_times(chat: Chat) -&gt; Dict</code>","text":"<p>Calcula TME e TMA para um chat.</p> <pre><code>{\n    \"tme_seconds\": 99.27,\n    \"tma_seconds\": 1781.24,\n    \"response_count\": 5\n}\n</code></pre>"},{"location":"technical/components/#analyze_agent_performancechats-listchat-list","title":"<code>analyze_agent_performance(chats: List[Chat]) -&gt; List</code>","text":"<p>Ranking de agentes por performance.</p>"},{"location":"technical/components/#4-analise-qualitativa-srcgemini_clientpy","title":"4. An\u00e1lise Qualitativa (<code>src/gemini_client.py</code>)","text":"<p>Cliente para Google Gemini API com valida\u00e7\u00e3o Pydantic.</p>"},{"location":"technical/components/#features","title":"Features","text":"<ul> <li>Valida\u00e7\u00e3o de Schema: Output estruturado via Pydantic (<code>src/llm_schemas.py</code>)</li> <li>Rate Limiting: 240 RPM (80% do Tier 1 Gemini)</li> <li>Timeout: 60s configur\u00e1vel</li> <li>Retry Logic: JSON parsing autom\u00e1tico com fallback</li> </ul>"},{"location":"technical/components/#retorno","title":"Retorno","text":"<pre><code>{\n    \"cx\": {\n        \"sentiment\": \"neutral\",\n        \"humanization_score\": 4,\n        \"nps_prediction\": 8,\n        \"resolution_status\": \"resolved\"\n    },\n    \"product\": {\n        \"products_mentioned\": [\"Produto A\"],\n        \"interest_level\": \"high\"\n    },\n    \"sales\": {\n        \"outcome\": \"in_progress\",\n        \"funnel_stage\": \"discovery\",\n        \"rejection_reason\": None\n    },\n    \"qa\": {\n        \"script_adherence\": True,\n        \"key_questions_asked\": [\"or\u00e7amento\", \"prazo\"]\n    }\n}\n</code></pre> <p>Configura\u00e7\u00e3o</p> <p>Defina <code>GEMINI_API_KEY</code> no arquivo <code>.env</code></p>"},{"location":"technical/components/#5-relatorios-srcreportingpy","title":"5. Relat\u00f3rios (<code>src/reporting.py</code>)","text":"<p>Agrega resultados e gera relat\u00f3rio final.</p> <pre><code>def generate_report(processed_data: List[Dict]) -&gt; Dict:\n    return {\n        \"agent_ranking\": [...],\n        \"product_cloud\": [...],\n        \"sales_funnel\": {...},\n        \"loss_reasons\": {...}\n    }\n</code></pre>"},{"location":"technical/gemini-integration/","title":"Integra\u00e7\u00e3o Gemini - An\u00e1lise Qualitativa","text":"<p>Este documento descreve a arquitetura e uso da an\u00e1lise qualitativa de conversas usando Google Gemini.</p>"},{"location":"technical/gemini-integration/#arquitetura","title":"Arquitetura","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         BigQuery                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  octadesk_chats    \u2502     \u2502  octadesk_analysis_results   \u2502   \u2502\n\u2502  \u2502  (dados brutos)    \u2502     \u2502  (an\u00e1lises processadas)      \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502                               \u2502\n             \u25bc                               \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Dashboard Quantitativo \u2502    \u2502   Dashboard Qualitativo        \u2502\n\u2502  (tempo real)           \u2502    \u2502   (hist\u00f3rico por semana)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"technical/gemini-integration/#componentes","title":"Componentes","text":""},{"location":"technical/gemini-integration/#geminiclient-srcgemini_clientpy","title":"GeminiClient (<code>src/gemini_client.py</code>)","text":"<p>Cliente ass\u00edncrono para a API do Gemini 2.5 Flash.</p> <p>M\u00e9todos:</p> M\u00e9todo Descri\u00e7\u00e3o <code>analyze(prompt)</code> Envia prompt e retorna JSON <code>analyze_chat_cx(transcript)</code> An\u00e1lise de experi\u00eancia do cliente <code>analyze_chat_product(transcript)</code> Intelig\u00eancia de produto <code>analyze_chat_sales(transcript)</code> Convers\u00e3o de vendas <code>analyze_chat_qa(transcript)</code> Quality Assurance <code>analyze_chat_full(transcript)</code> Todas as an\u00e1lises em paralelo"},{"location":"technical/gemini-integration/#batchanalyzer-srcbatch_analyzerpy","title":"BatchAnalyzer (<code>src/batch_analyzer.py</code>)","text":"<p>Processador de lotes com rate limiting e persist\u00eancia.</p> <p>M\u00e9todos principais:</p> M\u00e9todo Descri\u00e7\u00e3o <code>run_batch(chats, batch_size)</code> Processa lista de chats <code>save_to_bigquery(results, week_start, week_end)</code> Salva no BigQuery <code>load_from_bigquery(week_start)</code> Carrega resultados de uma semana <code>get_available_weeks()</code> Lista semanas dispon\u00edveis <code>get_analyzed_chat_ids(week_start)</code> IDs j\u00e1 analisados (evita duplicatas)"},{"location":"technical/gemini-integration/#tabela-bigquery","title":"Tabela BigQuery","text":"<p>Nome: <code>octadesk.octadesk_analysis_results</code></p> <pre><code>CREATE TABLE octadesk.octadesk_analysis_results (\n    chat_id STRING NOT NULL,\n    week_start DATE NOT NULL,\n    week_end DATE NOT NULL,\n    analyzed_at TIMESTAMP NOT NULL,\n    agent_name STRING,\n    -- CX\n    cx_sentiment STRING,\n    cx_humanization_score FLOAT64,\n    cx_nps_prediction FLOAT64,\n    cx_resolution_status STRING,\n    cx_satisfaction_comment STRING,\n    -- Sales\n    sales_funnel_stage STRING,\n    sales_outcome STRING,\n    sales_rejection_reason STRING,\n    sales_next_step STRING,\n    -- Product\n    products_mentioned ARRAY&lt;STRING&gt;,\n    interest_level STRING,\n    trends ARRAY&lt;STRING&gt;,\n    -- QA\n    qa_script_adherence BOOL,\n    key_questions_asked ARRAY&lt;STRING&gt;,\n    improvement_areas ARRAY&lt;STRING&gt;\n)\nPARTITION BY week_start\nCLUSTER BY agent_name;\n</code></pre>"},{"location":"technical/gemini-integration/#scripts","title":"Scripts","text":""},{"location":"technical/gemini-integration/#executar-analise-semanal","title":"Executar An\u00e1lise Semanal","text":"<pre><code># Semana anterior (padr\u00e3o)\npython scripts/run_weekly_analysis.py\n\n# Semana espec\u00edfica\npython scripts/run_weekly_analysis.py --week 2025-12-02\n\n# Limitar quantidade\npython scripts/run_weekly_analysis.py --max-chats 100\n</code></pre>"},{"location":"technical/gemini-integration/#criar-tabela-primeira-vez","title":"Criar Tabela (primeira vez)","text":"<pre><code>python scripts/create_analysis_table.py\n</code></pre>"},{"location":"technical/gemini-integration/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<pre><code># Obrigat\u00f3rio\nGEMINI_API_KEY=sua_api_key\n\n# BigQuery (j\u00e1 existentes)\nBIGQUERY_PROJECT_ID=seu-projeto\nBIGQUERY_DATASET=octadesk\n</code></pre>"},{"location":"technical/gemini-integration/#custos-estimados","title":"Custos Estimados","text":"Modelo Custo por 1M tokens Estimativa mensal (5k chats) Gemini 2.5 Flash $0.15 input / $0.60 output ~$1.50"},{"location":"technical/gemini-integration/#fluxo-de-dados","title":"Fluxo de Dados","text":"<ol> <li>Batch semanal processa chats da semana anterior</li> <li>Resultados salvos no BigQuery (<code>octadesk_analysis_results</code>)</li> <li>Dashboard Insights consulta BigQuery (sem LLM)</li> <li>Hist\u00f3rico dispon\u00edvel via seletor de semana</li> </ol>"},{"location":"technical/versioning/","title":"Versionamento e Releases","text":"<p>Este documento descreve como gerenciar vers\u00f5es do projeto.</p>"},{"location":"technical/versioning/#padrao-de-versionamento","title":"\ud83d\udccb Padr\u00e3o de Versionamento","text":"<p>Usamos Semantic Versioning (SemVer): <code>MAJOR.MINOR.PATCH</code></p> Parte Quando incrementar Exemplo MAJOR Mudan\u00e7as incompat\u00edveis Reestrutura\u00e7\u00e3o total do dashboard MINOR Novas funcionalidades Nova p\u00e1gina, novo KPI PATCH Corre\u00e7\u00f5es de bugs Fix em gr\u00e1fico, ajuste de filtro"},{"location":"technical/versioning/#criando-uma-release","title":"\ud83c\udff7\ufe0f Criando uma Release","text":""},{"location":"technical/versioning/#1-atualizar-versao-no-pyprojecttoml","title":"1. Atualizar vers\u00e3o no pyproject.toml","text":"<pre><code>[tool.poetry]\nversion = \"0.3.0\"  # Atualize aqui\n</code></pre>"},{"location":"technical/versioning/#2-criar-tag-e-release-via-git","title":"2. Criar tag e release via Git","text":"<pre><code># Criar branch de release\ngit checkout -b release/v0.3.0\n\n# Atualizar pyproject.toml com nova vers\u00e3o\n# Commit das altera\u00e7\u00f5es\ngit add pyproject.toml\ngit commit -m \"chore: bump version to 0.3.0\"\n\n# Voltar para main e fazer merge\ngit checkout main\ngit merge release/v0.3.0\n\n# Criar tag\ngit tag -a v0.3.0 -m \"Release v0.3.0 - Dashboard Multi-P\u00e1gina\"\n\n# Push com tags\ngit push origin main --tags\n</code></pre>"},{"location":"technical/versioning/#3-criar-release-no-github","title":"3. Criar Release no GitHub","text":"<ol> <li>Acesse: GitHub \u2192 Releases \u2192 Draft a new release</li> <li>Selecione a tag criada (ex: <code>v0.3.0</code>)</li> <li>T\u00edtulo: <code>v0.3.0 - Dashboard Multi-P\u00e1gina</code></li> <li>Descri\u00e7\u00e3o: Liste as principais mudan\u00e7as</li> <li>Clique em Publish release</li> </ol>"},{"location":"technical/versioning/#changelog","title":"\ud83d\udcdd CHANGELOG","text":"<p>Mantenha um arquivo <code>CHANGELOG.md</code> na raiz do projeto:</p> <pre><code># Changelog\n\n## [0.3.0] - 2025-12-12\n### Adicionado\n- Dashboard multi-p\u00e1gina (Vis\u00e3o Geral, Agentes, Temporal, Leads)\n- Filtros globais por agente e origem\n- Modo lightweight para carregamento otimizado\n\n### Corrigido\n- Classifica\u00e7\u00e3o de tags para BigQuery e mock data\n- Gr\u00e1ficos vazios na p\u00e1gina de Leads\n\n## [0.2.0] - 2025-XX-XX\n### Adicionado\n- Anonimiza\u00e7\u00e3o de PII\n- Otimiza\u00e7\u00e3o com pandas e asyncio\n</code></pre>"},{"location":"technical/versioning/#verificando-a-versao-atual","title":"\ud83d\udd0d Verificando a Vers\u00e3o Atual","text":"<pre><code># Via Poetry\npoetry version\n\n# No c\u00f3digo Python\nfrom importlib.metadata import version\nprint(version(\"projeto-analise-sdr\"))\n</code></pre>"},{"location":"technical/versioning/#preciso-de-packagespypi","title":"\u2753 Preciso de Packages/PyPI?","text":"<p>N\u00e3o para este projeto.</p> Cen\u00e1rio Recomenda\u00e7\u00e3o Dashboard interno \u2705 Tags + Releases Biblioteca reutiliz\u00e1vel PyPI Deploy em produ\u00e7\u00e3o Docker + tags <p>O projeto \u00e9 um dashboard Streamlit que roda localmente ou em servidor. N\u00e3o precisa ser distribu\u00eddo como package Python.</p>"},{"location":"technical/versioning/#workflow-completo","title":"\ud83d\ude80 Workflow Completo","text":"<pre><code>flowchart LR\n    A[Desenvolvimento] --&gt; B[Branch feature/fix]\n    B --&gt; C[PR para main]\n    C --&gt; D[Merge]\n    D --&gt; E{Nova vers\u00e3o?}\n    E --&gt;|Sim| F[Bump version]\n    F --&gt; G[Tag + Release]\n    G --&gt; H[Deploy docs]\n    E --&gt;|N\u00e3o| A</code></pre>"},{"location":"user-guide/dashboard/","title":"Dashboard - Manual do Usu\u00e1rio","text":"<p>Este guia explica como utilizar o Dashboard de An\u00e1lise SDR para acompanhar KPIs e extrair insights sobre a performance do time de atendimento.</p>"},{"location":"user-guide/dashboard/#acessando-o-dashboard","title":"\ud83d\ude80 Acessando o Dashboard","text":"<ol> <li>Abra seu navegador (Chrome, Edge, Firefox)</li> <li>Acesse o endere\u00e7o fornecido pelo time de TI (normalmente <code>http://localhost:8501</code>)</li> <li>Aguarde o carregamento da p\u00e1gina inicial</li> </ol> <p>Dica</p> <p>O dashboard carrega automaticamente os dados mais recentes. Caso precise atualizar, use o bot\u00e3o \"\ud83d\udd04 Carregar/Atualizar Dados\" na barra lateral.</p>"},{"location":"user-guide/dashboard/#navegando-pelas-paginas","title":"\ud83d\udcca Navegando pelas P\u00e1ginas","text":"<p>O dashboard possui 5 p\u00e1ginas principais, acess\u00edveis pelo menu lateral esquerdo:</p>"},{"location":"user-guide/dashboard/#visao-geral","title":"\ud83d\udcca Vis\u00e3o Geral","text":"<p>O que mostra: Resumo completo da opera\u00e7\u00e3o - use para ter uma vis\u00e3o r\u00e1pida do dia/semana.</p> M\u00e9trica O que significa Total de Atendimentos Quantos chats foram recebidos no per\u00edodo TME M\u00e9dio Tempo m\u00e9dio que o cliente esperou pela primeira resposta humana Taxa de Qualifica\u00e7\u00e3o % de leads classificados como potenciais compradores Distribui\u00e7\u00e3o de Tags Gr\u00e1fico mostrando a classifica\u00e7\u00e3o dos leads"},{"location":"user-guide/dashboard/#agentes","title":"\ud83d\udc65 Agentes","text":"<p>O que mostra: Performance individual de cada atendente.</p> M\u00e9trica O que significa Como usar Ranking de TME Quem responde mais r\u00e1pido Identifique os melhores exemplos Taxa de Qualifica\u00e7\u00e3o Quem qualifica mais leads Avalie efetividade do atendimento TME vs Volume Gr\u00e1fico de bolhas com performance Encontre quem atende bem E r\u00e1pido <p>Filtro: Hor\u00e1rio Comercial</p> <p>Marque a caixa \"Apenas hor\u00e1rio comercial\" para ver m\u00e9tricas justas (excluindo mensagens fora do expediente).</p>"},{"location":"user-guide/dashboard/#analise-temporal","title":"\ud83d\udcc8 An\u00e1lise Temporal","text":"<p>O que mostra: Padr\u00f5es de atendimento ao longo do tempo.</p> Gr\u00e1fico O que mostra Insights poss\u00edveis Volume por Hora Picos de demanda Quando refor\u00e7ar a equipe TME por Hora Hor\u00e1rios com mais demora Quando faltam atendentes Comercial vs Fora Comparativo de hor\u00e1rios Necessidade de plant\u00e3o"},{"location":"user-guide/dashboard/#leads","title":"\ud83c\udfaf Leads","text":"<p>O que mostra: An\u00e1lise de origem e qualidade dos leads.</p> Se\u00e7\u00e3o O que mostra Performance por Origem Qual canal traz mais leads qualificados Funil de Qualifica\u00e7\u00e3o Quantos leads passam por cada etapa Distribui\u00e7\u00e3o de Tags Categoriza\u00e7\u00e3o detalhada dos atendimentos"},{"location":"user-guide/dashboard/#insights-analise-com-ia","title":"\ud83e\udde0 Insights (An\u00e1lise com IA)","text":"<p>O que mostra: An\u00e1lise qualitativa das conversas usando Google Gemini. Resultados s\u00e3o salvos no BigQuery para consulta hist\u00f3rica.</p> M\u00e9trica O que significa NPS M\u00e9dio Previs\u00e3o de satisfa\u00e7\u00e3o do cliente (0-10) Humaniza\u00e7\u00e3o Qu\u00e3o personalizado foi o atendimento (1-5) Taxa de Convers\u00e3o % de chats que resultaram em venda Sentimento Distribui\u00e7\u00e3o positivo/neutro/negativo <p>Seletor de Semana</p> <p>Use o dropdown para selecionar semanas anteriores. Os resultados s\u00e3o carregados do BigQuery (sem custo de LLM).</p> <p>Executando nova an\u00e1lise</p> <p>Expanda a se\u00e7\u00e3o \"\ud83d\udd27 Executar Nova An\u00e1lise (Admin)\" para processar chats da semana anterior. A an\u00e1lise \u00e9 salva automaticamente no BigQuery.</p>"},{"location":"user-guide/dashboard/#usando-os-filtros","title":"\ud83c\udf9b\ufe0f Usando os Filtros","text":""},{"location":"user-guide/dashboard/#barra-lateral-opcoes-de-carregamento","title":"Barra Lateral - Op\u00e7\u00f5es de Carregamento","text":"Op\u00e7\u00e3o O que faz Dias para an\u00e1lise Quantos dias de hist\u00f3rico carregar (1-90) Limite de chats M\u00e1ximo de atendimentos a processar Modo leve \u2705 Mais r\u00e1pido (recomendado)"},{"location":"user-guide/dashboard/#filtros-globais","title":"Filtros Globais","text":"Filtro Descri\u00e7\u00e3o Agentes Ver apenas atendentes espec\u00edficos Origem do Lead Filtrar por canal de entrada"},{"location":"user-guide/dashboard/#principais-kpis-explicados","title":"\ud83d\udcc8 Principais KPIs Explicados","text":""},{"location":"user-guide/dashboard/#tme-tempo-medio-de-espera","title":"TME - Tempo M\u00e9dio de Espera","text":"<p>\u23f1\ufe0f Quanto tempo o cliente aguarda at\u00e9 a primeira resposta de um humano (n\u00e3o conta o bot).</p> Valor Avalia\u00e7\u00e3o &lt; 2 min \u2705 Excelente 2-5 min \u26a0\ufe0f Aceit\u00e1vel &gt; 5 min \ud83d\udd34 Precisa melhorar"},{"location":"user-guide/dashboard/#taxa-de-qualificacao","title":"Taxa de Qualifica\u00e7\u00e3o","text":"<p>\ud83c\udfaf Porcentagem de leads classificados como Qualificado ou Qualificado Plus.</p> <p>Como interpretar: - Taxa alta = Leads de boa qualidade OU bom trabalho de triagem - Taxa baixa = Leads frios OU campanha mal direcionada</p>"},{"location":"user-guide/dashboard/#volume-de-atendimentos","title":"Volume de Atendimentos","text":"<p>\ud83d\udcca Total de conversas iniciadas no per\u00edodo.</p> <p>Use para: - Dimensionar a equipe - Medir resultado de campanhas - Identificar sazonalidades</p>"},{"location":"user-guide/dashboard/#dicas-de-uso","title":"\ud83d\udca1 Dicas de Uso","text":"<p>Para reuni\u00f5es r\u00e1pidas</p> <p>Use a p\u00e1gina Vis\u00e3o Geral - tem todos os KPIs resumidos.</p> <p>Para feedback individual</p> <p>Use a p\u00e1gina Agentes - compare performance entre membros.</p> <p>Para planejar escalas</p> <p>Use a p\u00e1gina An\u00e1lise Temporal - veja hor\u00e1rios de pico.</p> <p>Para avaliar campanhas</p> <p>Use a p\u00e1gina Leads - veja qual origem traz mais qualificados.</p> <p>Para insights qualitativos</p> <p>Use a p\u00e1gina Insights - veja sentimento, humaniza\u00e7\u00e3o e tend\u00eancias de produto.</p>"},{"location":"user-guide/dashboard/#perguntas-frequentes","title":"\u2753 Perguntas Frequentes","text":"Como atualizar os dados? <p>Clique no bot\u00e3o \"\ud83d\udd04 Carregar/Atualizar Dados\" na barra lateral.</p> Os dados est\u00e3o demorando para carregar <p>Reduza o n\u00famero de dias e ative o \"Modo leve\".</p> Por que alguns gr\u00e1ficos est\u00e3o vazios? <p>Pode ser que os filtros estejam muito restritivos. Tente desmarcar os filtros ou aumentar o per\u00edodo.</p> Posso exportar os dados? <p>Sim! Clique com o bot\u00e3o direito nos gr\u00e1ficos Plotly para baixar como imagem.</p>"},{"location":"user-guide/dashboard/#proximos-passos","title":"\ud83d\udd17 Pr\u00f3ximos Passos","text":"<ul> <li>Entender as M\u00e9tricas</li> <li>Perguntas Frequentes</li> </ul>"},{"location":"user-guide/faq/","title":"Perguntas Frequentes (FAQ)","text":""},{"location":"user-guide/faq/#geral","title":"Geral","text":""},{"location":"user-guide/faq/#como-acesso-o-dashboard","title":"Como acesso o dashboard?","text":"<p><pre><code>poetry run streamlit run dashboard.py\n</code></pre> Depois abra <code>http://localhost:8501</code> no navegador.</p>"},{"location":"user-guide/faq/#de-onde-vem-os-dados","title":"De onde v\u00eam os dados?","text":"<p>Atualmente, de um arquivo JSON (<code>data/raw/exemplo.json</code>). No futuro, ser\u00e1 integrado diretamente com o BigQuery.</p>"},{"location":"user-guide/faq/#com-que-frequencia-devo-rodar-a-analise","title":"Com que frequ\u00eancia devo rodar a an\u00e1lise?","text":"<ul> <li>Semanal: Para acompanhar tend\u00eancias</li> <li>Mensal: Para relat\u00f3rios executivos</li> <li>Sob demanda: Para investigar casos espec\u00edficos</li> </ul>"},{"location":"user-guide/faq/#posso-filtrar-por-periodo","title":"Posso filtrar por per\u00edodo?","text":"<p>Ainda n\u00e3o. Esta funcionalidade est\u00e1 planejada para vers\u00f5es futuras.</p>"},{"location":"user-guide/faq/#metricas","title":"M\u00e9tricas","text":""},{"location":"user-guide/faq/#o-que-significa-tme","title":"O que significa TME?","text":"<p>Tempo M\u00e9dio de Espera - quanto tempo o cliente aguarda por uma resposta do atendente.</p>"},{"location":"user-guide/faq/#o-que-significa-tma","title":"O que significa TMA?","text":"<p>Tempo M\u00e9dio de Atendimento - dura\u00e7\u00e3o total da conversa, da primeira \u00e0 \u00faltima mensagem.</p>"},{"location":"user-guide/faq/#por-que-a-taxa-de-conversao-esta-baixa","title":"Por que a taxa de convers\u00e3o est\u00e1 baixa?","text":"<p>Pode ser por v\u00e1rios motivos: - Pre\u00e7o n\u00e3o competitivo - Falta de produtos em estoque - Atendimento demorado - Scripts de venda fracos</p> <p>Consulte os \"Motivos de Perda\" no dashboard para entender melhor.</p>"},{"location":"user-guide/faq/#tecnico","title":"T\u00e9cnico","text":""},{"location":"user-guide/faq/#como-instalo-o-projeto","title":"Como instalo o projeto?","text":"<pre><code>git clone https://github.com/gabrielpastega-bcmed/projeto_analise_SDR.git\ncd projeto_analise_SDR\npoetry install\n</code></pre>"},{"location":"user-guide/faq/#como-rodo-os-testes","title":"Como rodo os testes?","text":"<pre><code>poetry run pytest --cov=src\n</code></pre>"},{"location":"user-guide/faq/#como-gero-a-documentacao-localmente","title":"Como gero a documenta\u00e7\u00e3o localmente?","text":"<p><pre><code>poetry run mkdocs serve\n</code></pre> Acesse <code>http://localhost:8000</code></p>"},{"location":"user-guide/faq/#os-dados-sao-confiaveis","title":"Os dados s\u00e3o confi\u00e1veis?","text":"Tipo de An\u00e1lise Confiabilidade M\u00e9tricas quantitativas (TME, TMA) \u2705 Alta (matem\u00e1tico) An\u00e1lises qualitativas (sentimento) \u26a0\ufe0f Mock (at\u00e9 integrar LLM real)"},{"location":"user-guide/faq/#problemas-comuns","title":"Problemas Comuns","text":""},{"location":"user-guide/faq/#o-dashboard-nao-carrega","title":"O dashboard n\u00e3o carrega","text":"<ol> <li>Verifique se instalou as depend\u00eancias: <code>poetry install</code></li> <li>Verifique se est\u00e1 na pasta correta do projeto</li> <li>Tente: <code>poetry run streamlit run dashboard.py --server.port 8502</code></li> </ol>"},{"location":"user-guide/faq/#erro-de-import","title":"Erro de import","text":"<p>Execute dentro do ambiente virtual: <pre><code>poetry shell\npython dashboard.py\n</code></pre></p>"},{"location":"user-guide/faq/#dados-nao-aparecem","title":"Dados n\u00e3o aparecem","text":"<p>Verifique se o arquivo <code>data/raw/exemplo.json</code> existe e est\u00e1 no formato correto.</p>"},{"location":"user-guide/faq/#contato","title":"Contato","text":"<p>Para outras d\u00favidas, abra uma Issue no GitHub.</p>"},{"location":"user-guide/metrics/","title":"M\u00e9tricas Explicadas","text":"<p>Este guia explica cada m\u00e9trica do sistema em linguagem simples.</p>"},{"location":"user-guide/metrics/#tme-tempo-medio-de-espera","title":"TME - Tempo M\u00e9dio de Espera","text":""},{"location":"user-guide/metrics/#o-que-e","title":"O que \u00e9?","text":"<p>O tempo que o cliente fica esperando uma resposta do atendente.</p>"},{"location":"user-guide/metrics/#como-e-calculado","title":"Como \u00e9 calculado?","text":"<pre><code>TME = Soma dos tempos de espera \u00f7 Quantidade de respostas\n</code></pre>"},{"location":"user-guide/metrics/#por-que-importa","title":"Por que importa?","text":"<ul> <li>Clientes que esperam muito ficam insatisfeitos</li> <li>Pode causar desist\u00eancia da compra</li> <li>Reflete a produtividade da equipe</li> </ul>"},{"location":"user-guide/metrics/#meta-recomendada","title":"Meta Recomendada","text":"N\u00edvel Tempo \ud83d\udfe2 Excelente &lt; 1 minuto \ud83d\udfe1 Bom 1-3 minutos \ud83d\udfe0 Regular 3-5 minutos \ud83d\udd34 Cr\u00edtico &gt; 5 minutos"},{"location":"user-guide/metrics/#tma-tempo-medio-de-atendimento","title":"TMA - Tempo M\u00e9dio de Atendimento","text":""},{"location":"user-guide/metrics/#o-que-e_1","title":"O que \u00e9?","text":"<p>Quanto tempo dura a conversa inteira, do in\u00edcio ao fim.</p>"},{"location":"user-guide/metrics/#como-e-calculado_1","title":"Como \u00e9 calculado?","text":"<pre><code>TMA = Hora da \u00faltima mensagem - Hora da primeira mensagem\n</code></pre>"},{"location":"user-guide/metrics/#por-que-importa_1","title":"Por que importa?","text":"<ul> <li>Conversas muito longas podem indicar dificuldade em resolver</li> <li>Conversas muito curtas podem indicar respostas superficiais</li> <li>Ajuda a dimensionar a capacidade da equipe</li> </ul>"},{"location":"user-guide/metrics/#o-que-e-um-bom-tma","title":"O que \u00e9 um bom TMA?","text":"<p>Depende do tipo de produto/servi\u00e7o:</p> Tipo de Atendimento TMA Esperado D\u00favida simples 5-10 min Or\u00e7amento 15-30 min Negocia\u00e7\u00e3o 30-60 min Reclama\u00e7\u00e3o 20-40 min"},{"location":"user-guide/metrics/#taxa-de-conversao","title":"Taxa de Convers\u00e3o","text":""},{"location":"user-guide/metrics/#o-que-e_2","title":"O que \u00e9?","text":"<p>Porcentagem de conversas que resultaram em venda.</p>"},{"location":"user-guide/metrics/#como-e-calculado_2","title":"Como \u00e9 calculado?","text":"<pre><code>Taxa = (Chats convertidos \u00f7 Total de chats) \u00d7 100\n</code></pre>"},{"location":"user-guide/metrics/#exemplo","title":"Exemplo","text":"<p>Se de 100 chats, 15 viraram venda: <pre><code>Taxa = (15 \u00f7 100) \u00d7 100 = 15%\n</code></pre></p>"},{"location":"user-guide/metrics/#meta-recomendada_1","title":"Meta Recomendada","text":"<p>Varia muito por segmento, mas em m\u00e9dia:</p> Setor Taxa T\u00edpica E-commerce 2-5% B2B 10-20% Servi\u00e7os Premium 20-40%"},{"location":"user-guide/metrics/#score-de-humanizacao","title":"Score de Humaniza\u00e7\u00e3o","text":""},{"location":"user-guide/metrics/#o-que-e_3","title":"O que \u00e9?","text":"<p>Uma nota de 1 a 5 que avalia qu\u00e3o \"humana\" e personalizada foi a conversa.</p>"},{"location":"user-guide/metrics/#escala","title":"Escala","text":"Score Significado Exemplo 1 Muito rob\u00f3tico \"Aguarde que vou transferir\" 2 Respostas gen\u00e9ricas Scripts prontos 3 Neutro Funcional mas sem personaliza\u00e7\u00e3o 4 Personalizado Usa nome, entende contexto 5 Muito humano Emp\u00e1tico, proativo, memor\u00e1vel"},{"location":"user-guide/metrics/#por-que-importa_2","title":"Por que importa?","text":"<ul> <li>Clientes preferem atendimento personalizado</li> <li>Aumenta a confian\u00e7a e fideliza\u00e7\u00e3o</li> <li>Diferencial competitivo</li> </ul>"},{"location":"user-guide/metrics/#funil-de-vendas","title":"Funil de Vendas","text":""},{"location":"user-guide/metrics/#o-que-e_4","title":"O que \u00e9?","text":"<p>Uma visualiza\u00e7\u00e3o de como as conversas \"fluem\" pelos est\u00e1gios de venda.</p>"},{"location":"user-guide/metrics/#estagios","title":"Est\u00e1gios","text":"Est\u00e1gio Significado \u23f3 Em Progresso Conversa ainda aberta ou aguardando \u2705 Convertido Resultou em venda \u274c Perdido N\u00e3o resultou em venda"},{"location":"user-guide/metrics/#por-que-importa_3","title":"Por que importa?","text":"<ul> <li>Mostra onde estamos perdendo clientes</li> <li>Ajuda a identificar gargalos no processo</li> <li>Base para melhorias no script de vendas</li> </ul>"},{"location":"user-guide/metrics/#motivos-de-perda","title":"Motivos de Perda","text":""},{"location":"user-guide/metrics/#o-que-e_5","title":"O que \u00e9?","text":"<p>Classifica\u00e7\u00e3o dos motivos pelos quais n\u00e3o fechamos vendas.</p>"},{"location":"user-guide/metrics/#motivos-comuns","title":"Motivos Comuns","text":"Motivo Descri\u00e7\u00e3o Pre\u00e7o Cliente achou caro Estoque Produto n\u00e3o dispon\u00edvel Concorrente Escolheu outra empresa Sem resposta Cliente sumiu Timing N\u00e3o era o momento certo"},{"location":"user-guide/metrics/#por-que-importa_4","title":"Por que importa?","text":"<ul> <li>Orienta a\u00e7\u00f5es de marketing (se o problema \u00e9 pre\u00e7o)</li> <li>Sinaliza problemas de opera\u00e7\u00e3o (se \u00e9 estoque)</li> <li>Ajuda a entender a concorr\u00eancia</li> </ul>"},{"location":"user-guide/overview/","title":"Vis\u00e3o Geral do Sistema","text":""},{"location":"user-guide/overview/#o-que-este-sistema-faz","title":"\ud83c\udfaf O que este sistema faz?","text":"<p>O Dashboard de An\u00e1lise SDR \u00e9 uma ferramenta visual que mostra o desempenho da equipe de atendimento em tempo real. Com ele, voc\u00ea pode:</p> <ul> <li>\u2705 Acompanhar quantos leads est\u00e3o chegando</li> <li>\u2705 Ver quem est\u00e1 atendendo mais r\u00e1pido</li> <li>\u2705 Identificar quais canais trazem melhores leads</li> <li>\u2705 Entender os hor\u00e1rios de pico de atendimento</li> </ul>"},{"location":"user-guide/overview/#para-quem-e-este-sistema","title":"\ud83d\udc65 Para quem \u00e9 este sistema?","text":"Perfil Como usar Gestor de Vendas Acompanhar performance di\u00e1ria da equipe Coordenador de SDR Identificar gargalos e necessidades de treinamento Diretoria Vis\u00e3o macro dos resultados de convers\u00e3o Marketing Avaliar qualidade dos leads por campanha/origem"},{"location":"user-guide/overview/#as-4-paginas-do-dashboard","title":"\ud83d\udcca As 4 P\u00e1ginas do Dashboard","text":"<p>O dashboard est\u00e1 organizado em 4 p\u00e1ginas, cada uma com um foco espec\u00edfico:</p> P\u00e1gina Foco Use quando precisar... \ud83d\udcca Vis\u00e3o Geral Resumo da opera\u00e7\u00e3o Ter uma vis\u00e3o r\u00e1pida do dia/semana \ud83d\udc65 Agentes Performance individual Dar feedback ou identificar top performers \ud83d\udcc8 An\u00e1lise Temporal Padr\u00f5es de hor\u00e1rio Planejar escalas e identificar picos \ud83c\udfaf Leads Qualidade das fontes Avaliar campanhas e canais de aquisi\u00e7\u00e3o"},{"location":"user-guide/overview/#principais-indicadores-kpis","title":"\ud83d\udcc8 Principais Indicadores (KPIs)","text":""},{"location":"user-guide/overview/#tme-tempo-medio-de-espera","title":"TME - Tempo M\u00e9dio de Espera","text":"<p>\u23f1\ufe0f Quanto tempo o cliente espera at\u00e9 ser atendido por um humano (n\u00e3o conta o bot)</p> <p>Por que importa? Clientes que esperam muito desistem ou ficam frustrados.</p>"},{"location":"user-guide/overview/#taxa-de-qualificacao","title":"Taxa de Qualifica\u00e7\u00e3o","text":"<p>\ud83c\udfaf % de leads classificados como potenciais compradores</p> <p>Por que importa? Indica a qualidade do fluxo de leads e efetividade da triagem.</p>"},{"location":"user-guide/overview/#volume-de-atendimentos","title":"Volume de Atendimentos","text":"<p>\ud83d\udcca Total de conversas recebidas no per\u00edodo</p> <p>Por que importa? Ajuda a dimensionar a equipe e medir resultados de campanhas.</p>"},{"location":"user-guide/overview/#proximos-passos","title":"\ud83d\ude80 Pr\u00f3ximos Passos","text":"<p>Agora que voc\u00ea entendeu o que o sistema faz, veja:</p> <ul> <li>\ud83d\udcd6 Manual do Dashboard - Como usar cada p\u00e1gina</li> <li>\ud83d\udcca Entender as M\u00e9tricas - Detalhes sobre cada KPI</li> <li>\u2753 Perguntas Frequentes - D\u00favidas comuns</li> </ul>"}]}